/* --- Wiki Integration CSS --- */
/*
 * This file contains CSS classes and styles from the oldschool.runescape.wiki
 * that are missing from the app but needed for proper rendering.
 */

/* --- Table Highlighting Classes --- */

/* Yes/No/Maybe table cells - commonly used in wiki tables */
.table-yes {
    background: var(--table-yes-background);
    color: var(--table-yes-color);
}

.table-no {
    background: var(--table-no-background);
    color: var(--table-no-color);
}

.table-maybe {
    background: var(--table-maybe-background);
    color: var(--table-maybe-color);
}

.table-na {
    background: var(--table-na-background);
    color: var(--table-na-color);
}

/* Positive/Negative alternatives */
.table-positive {
    background: var(--table-yes-background);
    color: var(--table-yes-color);
}

.table-negative {
    background: var(--table-no-background);
    color: var(--table-no-color);
}

/* --- Drop Table Rarity Background Classes --- */

.table-bg-always, .table-bg-blue {
    background: var(--droptable-always-background);
    color: var(--droptable-text-color);
}

.table-bg-common, .table-bg-green {
    background: var(--droptable-common-background);
    color: var(--droptable-text-color);
}

.table-bg-uncommon, .table-bg-yellow {
    background: var(--droptable-uncommon-background);
    color: var(--droptable-text-color);
}

.table-bg-rare, .table-bg-orange {
    background: var(--droptable-rare-background);
    color: var(--droptable-text-color);
}

.table-bg-veryrare, .table-bg-red {
    background: var(--droptable-veryrare-background);
    color: var(--droptable-text-color);
}

.table-bg-random, .table-bg-pink {
    background: var(--droptable-random-background);
    color: var(--droptable-text-color);
}

/* Additional drop table colors */
.table-bg-fade {
    background: var(--wikitable-alternating-bg);
    color: var(--wikitable-color);
}

/* --- Production Selected Class (User's specific example) --- */
.production-selected {
    background: var(--table-yes-background);
    color: var(--table-yes-color);
}

/* --- Table Border Control --- */
.table-noborder {
    border-left-style: hidden !important;
    border-right-style: hidden !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
}

/* --- Alternating Row Styles --- */
table.alternating-rows tr:nth-child(odd) {
    background: var(--wikitable-alternating-bg);
}

/* --- Additional Wiki-Specific Styles --- */

/* Table cell alignment classes commonly used in wiki */
.table-center {
    text-align: center;
}

.table-left {
    text-align: left;
}

.table-right {
    text-align: right;
}

/* Highlight for search results and selections */
.searchmatch {
    background: var(--table-maybe-background);
    color: var(--table-maybe-color);
    font-weight: bold;
}

/* Wiki-style code blocks */
.mw-code {
    background-color: var(--mw-code-background-color);
    padding: 2px 4px;
    border-radius: 2px;
    font-family: monospace;
}

/* Template parameter highlighting */
.template-param {
    background: var(--table-na-background);
    color: var(--table-na-color);
    font-style: italic;
}\n\n\n
/* --- Auto-Generated Missing CSS Rules from Wiki Analysis --- */

/* --- Typography and Headings --- */
.mw-body h1,
.mw-body .mw-heading1,
.mw-body-content h1,
.mw-body-content .mw-heading1,
.mw-body-content h2,
.mw-body-content .mw-heading2,
.mw-body-content h3,
.mw-body-content .mw-heading3 {
    font-family: 'PT Serif', 'Palatino', 'Georgia', serif;
}

h1, .mw-heading1 {
    border-color: var(--sidebar-color);
}

h2, .mw-heading2 {
    border-color: var(--sidebar-color);
}

h3, h4, h5, h6 {
    color: var(--heading-color);
}

.mw-parser-output h2:first-of-type {
    clear: left;
}

/* --- External and Parser Links --- */
.mw-parser-output a.extiw,
.mw-parser-output a.external {
    color: var(--link-color);
}

.mw-parser-output a.extiw:visited,
.mw-parser-output a.external:visited,
.mw-parser-output a.extiw:active,
.mw-parser-output a.external:active {
    color: var(--link-color);
}

/* --- Content Styles --- */
::placeholder {
    color: var(--subtle-color);
}

.mw-content-ltr.mw-highlight-lines pre,
.content .mw-highlight-lines pre {
    box-shadow: inset 2.75em 0 0 var(--mw-code-background-color);
}

/* --- Table Improvements --- */
.wikitable > tr > td,
.wikitable > * > tr > td {
    border-color: var(--wikitable-border);
}

.mw_metadata td {
    background-color: var(--wikitable-bg);
}

.mw_metadata th {
    background-color: var(--wikitable-header-bg);
}

table.alternating-cols td:nth-child(odd) {
    background: var(--wikitable-alternating-bg);
}

.mw-datatable {
    border-color: var(--wikitable-border);
}

.mw-datatable td {
    background-color: var(--wikitable-bg);
}

.mw-datatable th {
    background-color: var(--wikitable-header-bg);
}

.mw-datatable tr:hover td {
    background-color: var(--wikitable-alternating-bg);
}

/* --- Quest Details Tables --- */
.questdetails {
    width: 100%;
    background-color: var(--wikitable-bg);
    border: 1px solid var(--wikitable-border);
    border-collapse: separate;
}

.questdetails th {
    text-align: left;
    background-color: var(--wikitable-header-bg);
}

.questdetails-header {
    padding: 0.5em 1em;
    background-color: var(--wikitable-header-bg);
    width: 125px;
}

.questdetails-info {
    padding-left: 1em;
    padding-right: 2em;
}

/* --- Form and Interactive Elements --- */
.mw-usertoollinks-contribs-no-edits,
.mw-usertoollinks-contribs-no-edits:visited {
    color: var(--redlink-color);
}

.CategoryTreeToggle {
    color: var(--link-color);
}

/* --- Fixes for Existing Classes --- */
.messagebox {
    width: 65%;
    border-color: var(--body-border);
    background-color: var(--wikitable-bg);
}

.font-runescape {
    font-family: 'RuneScape', 'runescape_plain', sans-serif;
}

.table-bg-fade {
    opacity: 0.6;
    background: rgba(0,0,0,0.1);
}

.table-na {
    vertical-align: middle;
    text-align: center;
}

/* --- Production Selected (Fixed Variables) --- */
.production-selected {
    background: var(--table-yes-background);
    color: var(--table-yes-color);
}

/* --- Additional High-Priority Content Selectors --- */

/* MediaWiki Body Content */
.mw-body h1 {
    font-family: 'PT Serif','Palatino','Georgia',serif;
}

.mw-content-ltr.content .mw-highlight-lines pre {
    box-shadow: inset 2.75em 0 0 var(--mw-code-background-color);
}

.mw-content-ltr .redirectText li:first-child {
    padding: 0;
    background: 0;
}

.mw-content-ltr .redirectText li:first-child::before {
    content: '';
    background: currentcolor;
    display: block;
    width: 2px;
    height: 1em;
    margin: 0.25em 0.5em 0.25em 0;
    float: left;
}

/* Enhanced WikiTable Support */
.wikitable {
    background: var(--wikitable-bg);
    color: var(--wikitable-color);
    border-color: var(--wikitable-border);
    box-shadow: 0 0.25rem 0.35rem -0.25rem rgba(0,0,0,0.1);
}

.wikitable > tr > th.table-noborder,
.wikitable > tr > td.table-noborder,
.wikitable > * > tr > th.table-noborder,
.wikitable > * > tr > td.table-noborder {
    border-left-style: hidden;
    border-right-style: hidden;
    padding-left: 0 !important;
    padding-right: 0 !important;
}

.tabber .wikitable {
    box-shadow: none;
}

table.wikitable td.no-cell-spacing {
    padding: 0;
    height: 0;
}

table.wikitable td.no-cell-spacing table {
    margin: -1px;
    width: calc(100% + 2px);
}

/* Page History and Revision Tools */
#pagehistory ul {
    list-style: none;
    margin: 0;
}

#pagehistory li {
    border: 1px solid transparent;
    padding: 1px 10px;
    margin: 2px 0;
}

#pagehistory li.selected {
    background-color: var(--body-light);
    color: inherit;
    border: 1px dashed var(--body-border);
    outline: none;
}

li span.deleted,
span.history-deleted {
    color: var(--byline-color);
}

/* Interactive Elements and Tables */
table.mw-interwikitable.body td.mw-interwikitable-local-yes {
    background-color: var(--table-yes-background);
    color: var(--table-yes-color);
}

table.mw-abuselog-details {
    background: var(--wikitable-bg);
    border-color: var(--wikitable-border);
}

table.mw-abuselog-details th,
table.mw-abuselog-details td {
    border-color: var(--wikitable-border);
}

.mw-json th {
    background: var(--wikitable-header-bg);
}

.mw-json td {
    background: var(--wikitable-bg);
}

/* Content Quality and State Indicators */
.mw-mmv-post-image {
    color: var(--text-color);
    background-color: var(--body-main);
}

.mw-revslider-slider-wrapper {
    border-color: var(--sidebar);
}

/* Interactive Button Styles */
.cdx-button:not(:disabled).cdx-button--weight-primary.cdx-button--action-progressive,
.cdx-button:enabled.cdx-button--weight-primary.cdx-button--action-progressive,
.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-primary.cdx-button--action-progressive {
    background-color: var(--ooui-progressive);
    color: #fff;
    border-color: var(--ooui-progressive);
}

.cdx-button:not(:disabled).cdx-button--weight-primary.cdx-button--action-progressive:hover,
.cdx-button:enabled.cdx-button--weight-primary.cdx-button--action-progressive:hover,
.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-primary.cdx-button--action-progressive:hover {
    background-color: var(--ooui-progressive--hover);
    border-color: var(--ooui-progressive--hover);
}

.cdx-button:not(:disabled).cdx-button--weight-primary.cdx-button--action-progressive:focus,
.cdx-button:enabled.cdx-button--weight-primary.cdx-button--action-progressive:focus,
.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-primary.cdx-button--action-progressive:focus {
    box-shadow: inset 0 0 0 1px var(--ooui-accent),inset 0 0 0 2px #fff;
}

/* Enhanced Table Data Hover Effects */
.mw-datatable tr:hover td {
    background-color: var(--wikitable-bg-lighter);
}

/* --- OSRS-Specific Data Presentation Tables --- */

/* Table Column Alignment Utilities (1-10 most common) */
table.align-right-1 td:nth-of-type(1) { text-align: right; }
table.align-right-2 td:nth-of-type(2) { text-align: right; }
table.align-right-3 td:nth-of-type(3) { text-align: right; }
table.align-right-4 td:nth-of-type(4) { text-align: right; }
table.align-right-5 td:nth-of-type(5) { text-align: right; }
table.align-right-6 td:nth-of-type(6) { text-align: right; }
table.align-right-7 td:nth-of-type(7) { text-align: right; }
table.align-right-8 td:nth-of-type(8) { text-align: right; }
table.align-right-9 td:nth-of-type(9) { text-align: right; }
table.align-right-10 td:nth-of-type(10) { text-align: right; }

table.align-center-1 td:nth-of-type(1) { text-align: center; }
table.align-center-2 td:nth-of-type(2) { text-align: center; }
table.align-center-3 td:nth-of-type(3) { text-align: center; }
table.align-center-4 td:nth-of-type(4) { text-align: center; }
table.align-center-5 td:nth-of-type(5) { text-align: center; }
table.align-center-6 td:nth-of-type(6) { text-align: center; }
table.align-center-7 td:nth-of-type(7) { text-align: center; }
table.align-center-8 td:nth-of-type(8) { text-align: center; }

/* Quest Details Tables */
.questdetails {
    background-color: var(--body-light);
    border: 1px solid var(--body-border);
}

.questdetails-header {
    background-color: var(--wikitable-header-bg);
}

.questdetails tr:nth-child(odd) .questdetails-header {
    background-color: var(--wikitable-alternating-bg);
}

/* Growth and Farming Tables */
.growth-stage-table td.growth-stage {
    text-align: center;
    vertical-align: bottom;
}

/* Inventory and Storage Interface Tables */
.inventorytable {
    background-image: url(https://oldschool.runescape.wiki/images/Inventory_tab.png);
    width: 204px;
    padding: 13px 16px 10px;
    background-repeat: no-repeat;
}

.lootingbagtable {
    background-image: url(https://oldschool.runescape.wiki/images/Looting_bag_tab.png);
    width: 204px;
    padding: 31px 17px 20px 12px;
    background-repeat: no-repeat;
}

.menagerietable {
    background-image: url(https://oldschool.runescape.wiki/images/Menagerie_interface.png);
    background-repeat: no-repeat;
    background-position: top left;
    width: 512px;
    height: 334px;
    table-layout: fixed;
}

/* Storage positioning utilities */
.inventorytable.storage-left,
.lootingbagtable.storage-left {
    float: left;
    clear: left;
    margin-right: 7px;
}

.inventorytable.storage-center,
.lootingbagtable.storage-center {
    margin-left: auto;
    margin-right: auto;
}

.inventorytable.storage-right,
.lootingbagtable.storage-right {
    float: right;
    clear: right;
    margin-left: 7px;
}

/* Inventory table cell sizing */
.inventorytable td {
    width: 43px;
    height: 36px;
}

.lootingbagtable td {
    width: 44px;
    height: 32px;
}

.menagerietable td {
    padding: 0;
    border: 0;
    text-align: center;
    vertical-align: middle;
}

/* Inventory quantity text styling */
.inventorytable .inv-quantity-text,
.lootingbagtable .inv-quantity-text {
    font-family: 'RuneScape Small', monospace;
    font-size: 12pt;
    position: absolute;
    text-shadow: 1px 1px 0px #000;
    pointer-events: none;
    z-index: 10;
}

.inventorytable .inv-quantity-text.qty-1,
.lootingbagtable .inv-quantity-text.qty-1 {
    color: #ff0;
}

.inventorytable .inv-quantity-text.qty-100k,
.lootingbagtable .inv-quantity-text.qty-100k {
    color: #fff;
}

.inventorytable .inv-quantity-text.qty-10m,
.lootingbagtable .inv-quantity-text.qty-10m {
    color: #01ff80;
}

/* Enhanced Recent Changes Tables */
.client-js .mw-changeslist table.mw-enhanced-rc {
    margin-left: 0;
}

/* --- Typography and Content Formatting --- */

/* RuneScape Font Utility */
.font-runescape {
    font-family: 'RuneScape', 'runescape_plain', sans-serif;
}

/* Heading Border Fixes */
h1, h2 {
    border-color: var(--sidebar);
}

h3 {
    color: var(--text-color);
}

/* MediaWiki Body Content Headings */
.mw-body-content h1 {
    font-family: 'PT Serif','Palatino','Georgia',serif;
}

/* Redirect Text Styling */
.mw-content-ltr .redirectText li:first-child {
    padding: 0;
    background: 0;
}

.mw-content-ltr .redirectText li:first-child::before {
    content: '';
    background: currentcolor;
    display: block;
    width: 2px;
    height: 1em;
    margin: 0.25em 0.5em 0.25em 0;
    float: left;
}

/* Succession Tables (Navigation) */
.succession th {
    width: 33%;
    font-size: 90%;
    background: var(--body-mid);
}

.succession td {
    background: var(--body-light);
}

/* Noted Item Links */
td.noted-item a {
    width: 32px;
    line-height: 28px;
}

/* Italic Text for Special Cases */
tr.mw-abusefilter-list-disabled {
    font-style: italic;
}

/* Message Box System */
.cdx-message--error {
    background-color: var(--errorbox-bg);
    border-color: var(--errorbox-border);
    border: 1px solid;
    padding: 8px 12px;
    border-radius: 4px;
    margin: 8px 0;
}

.cdx-message--warning {
    background-color: var(--warningbox-bg);
    border-color: var(--warningbox-border);
    border: 1px solid;
    padding: 8px 12px;
    border-radius: 4px;
    margin: 8px 0;
}

.cdx-message--success {
    background-color: var(--successbox-bg);
    border-color: var(--successbox-border);
    border: 1px solid;
    padding: 8px 12px;
    border-radius: 4px;
    margin: 8px 0;
}

/* --- Batch 2: Content Structure & Navigation Elements --- */

/* Message Box System Extensions */
.messagebox {
    width: 65%;
    border-left: 15px solid;
    border-color: var(--body-border);
    background-color: var(--wikitable-bg);
    padding: 8px 12px;
    margin: 8px 0;
}

.messagebox.stub {
    width: 40%;
}

.messagebox.hasdialogue {
    padding: 0 10px;
    width: auto;
}

/* Dismissible Notice System */
.sitedir-ltr .mw-dismissable-notice-body {
    margin: 0;
}

.sitedir-ltr .mw-dismissable-notice-close {
    float: none;
    text-align: right;
}

/* Hatnotes - Disambiguation and "See also" notices */
.hatnote,
.seealso {
    font-style: italic;
    text-indent: 0;
    padding: 5px 7px;
    background-color: var(--wikitable-bg);
    border-left: 3px solid var(--body-border);
    margin: 0.5em 0;
    font-size: 90%;
}

.hatnote i,
.seealso i {
    font-style: normal;
}

div.hatnote,
div.seealso {
    margin: 0.5em 1.6em;
}

/* Stacked hatnote spacing */
div.hatnote + div.hatnote,
div.hatnote + div.seealso,
div.seealso + div.hatnote,
div.seealso + div.seealso {
    margin-top: -0.5em;
}

/* Reference Lists and Citations */
ol.references {
    font-size: 90%;
    list-style-type: decimal;
}

.reflist {
    list-style-type: decimal;
    font-size: 90%;
}

.reflist .references {
    font-size: 100%;
    list-style-type: inherit;
}

/* Targeted reference highlighting */
ol.references li:target {
    background-color: var(--wikitable-alternating-bg);
    padding: 4px;
    border-left: 3px solid var(--ooui-accent);
    margin-left: -7px;
    padding-left: 4px;
}

.hideQuotes .refhide {
    display: none;
}

/* Collapsible Content */
.collapsed-sec {
    font-family: 'PT Serif','Palatino','Georgia',serif;
    font-weight: bold;
    text-shadow: 1px 1px rgba(255,255,255,0.3);
    color: var(--heading-color);
}

/* Plain Lists (navigation, etc.) */
.plainlist ol,
.plainlist ul {
    margin: 0;
    list-style: none;
}

.plainlist li {
    margin-bottom: 0;
    list-style: none;
    display: inline;
}

.plainlist li:not(:last-child):after {
    content: " â€¢ ";
    color: var(--subtle-color);
}

/* Infobox Media Elements */
.infobox audio {
    max-width: 298px;
    margin-left: auto;
    margin-right: auto;
    display: block;
}

/* Template and Badge System */
.tbz-badge.tbz-badge-wrapper {
    padding: 0.2em;
    display: inline-block;
    margin: 2px;
}

.plink-template + a {
    margin-left: 0.25em;
}

/* --- End Batch 2 Section --- */

/* --- Batch 3: Enhanced Interactive States & Form Elements --- */

/* CDX Button System - Base States */
.cdx-button:not(:disabled),
.cdx-button:enabled,
.cdx-button.cdx-button--fake-button--enabled {
    background-color: var(--ooui-normal);
    color: var(--ooui-text);
    border-color: var(--ooui-normal-border);
}

.cdx-button:not(:disabled):hover,
.cdx-button:enabled:hover,
.cdx-button.cdx-button--fake-button--enabled:hover {
    background-color: var(--ooui-normal--hover);
    color: var(--ooui-text);
    border-color: var(--ooui-normal-border);
}

.cdx-button:not(:disabled):active,
.cdx-button:enabled:active,
.cdx-button.cdx-button--fake-button--enabled:active {
    background-color: var(--ooui-normal--hover);
    color: var(--ooui-text);
    border-color: var(--ooui-normal-border);
}

.cdx-button:not(:disabled):focus:not(:active):not(.cdx-button--is-active),
.cdx-button:enabled:focus:not(:active):not(.cdx-button--is-active),
.cdx-button.cdx-button--fake-button--enabled:focus:not(:active):not(.cdx-button--is-active) {
    color: var(--ooui-text);
    border-color: var(--ooui-accent);
    box-shadow: inset 0 0 0 1px var(--ooui-accent),inset 0 0 0 2px #fff;
}

.cdx-button:not(:disabled):visited,
.cdx-button:enabled:visited,
.cdx-button.cdx-button--fake-button--enabled:visited {
    color: var(--ooui-text);
}

/* CDX Progressive Primary Button - Active States */
.cdx-button:not(:disabled).cdx-button--weight-primary.cdx-button--action-progressive:active,
.cdx-button:enabled.cdx-button--weight-primary.cdx-button--action-progressive:active,
.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-primary.cdx-button--action-progressive:active {
    background-color: var(--ooui-progressive--hover);
    border-color: var(--ooui-progressive--hover);
    box-shadow: none;
}

.cdx-button:not(:disabled).cdx-button--weight-primary.cdx-button--action-progressive.is-on,
.cdx-button:enabled.cdx-button--weight-primary.cdx-button--action-progressive.is-on,
.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-primary.cdx-button--action-progressive.is-on {
    background-color: var(--ooui-progressive--hover);
    border-color: var(--ooui-progressive--hover);
    box-shadow: none;
}

/* CDX Quiet Buttons */
.cdx-button.cdx-button--weight-quiet {
    color: var(--text-color);
    background: transparent;
    border-color: transparent;
}

.cdx-button.cdx-button--weight-quiet:hover {
    background-color: rgba(0,24,73,0.027);
    color: var(--text-color);
    border-color: transparent;
}

.cdx-button.cdx-button--weight-quiet:focus {
    color: var(--text-color);
}

.cdx-button.cdx-button--weight-quiet:active {
    background-color: rgba(0,36,73,0.082);
    color: var(--text-color);
    border-color: #72777d;
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive {
    color: var(--ooui-progressive);
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive:hover {
    background-color: rgba(0,24,73,0.027);
    color: var(--ooui-progressive);
    border-color: transparent;
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive:focus {
    color: var(--ooui-progressive);
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive:active {
    background-color: rgba(0,36,73,0.082);
    color: var(--ooui-progressive);
    border-color: #72777d;
}

/* CDX Destructive Actions */
.cdx-button.cdx-button--action-destructive:not(:disabled) {
    color: #fff;
    background-color: var(--errorbox-border);
    border-color: var(--errorbox-border);
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive {
    color: var(--errorbox-border);
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive:hover {
    background-color: rgba(0,24,73,0.027);
    color: var(--errorbox-border);
    border-color: transparent;
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive:focus {
    color: var(--errorbox-border);
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive:active {
    background-color: rgba(0,36,73,0.082);
    color: var(--errorbox-border);
    border-color: #72777d;
}

/* CDX Checkbox System */
.cdx-checkbox__input:enabled:checked + .cdx-checkbox__icon,
.cdx-checkbox__input:enabled:indeterminate + .cdx-checkbox__icon {
    background-color: var(--ooui-progressive);
    border-color: var(--ooui-progressive);
}

.cdx-checkbox__input:enabled:checked:hover + .cdx-checkbox__icon,
.cdx-checkbox__input:enabled:indeterminate:hover + .cdx-checkbox__icon {
    background-color: var(--ooui-progressive--hover);
    border-color: var(--ooui-progressive--hover);
}

.cdx-checkbox__input:enabled:checked:active + .cdx-checkbox__icon,
.cdx-checkbox__input:enabled:indeterminate:active + .cdx-checkbox__icon {
    background-color: var(--ooui-progressive--hover);
    border-color: var(--ooui-progressive--hover);
    box-shadow: inset 0 0 0 1px var(--ooui-progressive--hover);
}

.cdx-checkbox__input:enabled:checked:focus:not(:active),
.cdx-checkbox__input:enabled:indeterminate:focus:not(:active) {
    background-color: var(--ooui-progressive--hover);
    border-color: var(--ooui-accent);
    box-shadow: inset 0 0 0 1px var(--ooui-accent),inset 0 0 0 2px #fff;
}

.cdx-checkbox__input:enabled:checked:focus:not(:active):not(:hover) + .cdx-checkbox__icon,
.cdx-checkbox__input:enabled:indeterminate:focus:not(:active):not(:hover) + .cdx-checkbox__icon {
    background-color: var(--ooui-progressive--hover);
    border-color: var(--ooui-accent);
    box-shadow: inset 0 0 0 1px var(--ooui-accent),inset 0 0 0 2px #fff;
}

.cdx-checkbox__input:enabled:hover + .cdx-checkbox__icon {
    border-color: var(--ooui-accent);
}

.cdx-checkbox__input:enabled:active + .cdx-checkbox__icon {
    background-color: var(--ooui-progressive--hover);
    border-color: var(--ooui-progressive--hover);
    box-shadow: inset 0 0 0 1px var(--ooui-progressive--hover);
}

/* CDX Text Input Fields */
.cdx-text-input__input:enabled {
    background-color: var(--ooui-input);
    color: var(--text-color);
    border-color: var(--ooui-input-border);
}

.cdx-text-input__input:enabled:hover {
    border-color: var(--ooui-input-border--hover);
}

.cdx-text-input__input:enabled:focus {
    border-color: var(--ooui-accent);
    box-shadow: inset 0 0 0 1px var(--ooui-accent);
}

.cdx-text-input__input:enabled::placeholder {
    color: var(--byline-color);
}

/* CDX Message Components */
.cdx-message {
    color: var(--text-color);
    padding: 8px 12px;
    border-radius: 4px;
    margin: 8px 0;
}

/* Checkbox + Button Interactions */
input[type='checkbox']:hover + .cdx-button.cdx-button--weight-quiet {
    background-color: rgba(0,24,73,0.027);
    color: var(--text-color);
    border-color: transparent;
}

input[type='checkbox']:hover + .cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive {
    background-color: rgba(0,24,73,0.027);
    color: var(--ooui-progressive);
    border-color: transparent;
}

input[type='checkbox']:hover + .cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive {
    background-color: rgba(0,24,73,0.027);
    color: var(--errorbox-border);
    border-color: transparent;
}

input[type='checkbox']:focus + .cdx-button.cdx-button--weight-quiet {
    color: var(--text-color);
}

input[type='checkbox']:focus + .cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive {
    color: var(--ooui-progressive);
}

input[type='checkbox']:focus + .cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive {
    color: var(--errorbox-border);
}

input[type='checkbox']:active + .cdx-button.cdx-button--weight-quiet {
    background-color: rgba(0,36,73,0.082);
    color: var(--text-color);
    border-color: #72777d;
}

input[type='checkbox']:active + .cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive {
    background-color: rgba(0,36,73,0.082);
    color: var(--ooui-progressive);
    border-color: #72777d;
}

input[type='checkbox']:active + .cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive {
    background-color: rgba(0,36,73,0.082);
    color: var(--errorbox-border);
    border-color: #72777d;
}

/* --- End Batch 3 Section --- */

/* --- Batch 4: Media, Gallery & Additional Table Utilities --- */

/* Extended Table Alignment Utilities (11-20) */
table.align-right-11 td:nth-of-type(11) { text-align: right; }
table.align-right-12 td:nth-of-type(12) { text-align: right; }
table.align-right-13 td:nth-of-type(13) { text-align: right; }
table.align-right-14 td:nth-of-type(14) { text-align: right; }
table.align-right-15 td:nth-of-type(15) { text-align: right; }
table.align-right-16 td:nth-of-type(16) { text-align: right; }
table.align-right-17 td:nth-of-type(17) { text-align: right; }
table.align-right-18 td:nth-of-type(18) { text-align: right; }
table.align-right-19 td:nth-of-type(19) { text-align: right; }
table.align-right-20 td:nth-of-type(20) { text-align: right; }

table.align-center-9 td:nth-of-type(9) { text-align: center; }
table.align-center-10 td:nth-of-type(10) { text-align: center; }
table.align-center-11 td:nth-of-type(11) { text-align: center; }
table.align-center-12 td:nth-of-type(12) { text-align: center; }
table.align-center-13 td:nth-of-type(13) { text-align: center; }
table.align-center-14 td:nth-of-type(14) { text-align: center; }
table.align-center-15 td:nth-of-type(15) { text-align: center; }
table.align-center-16 td:nth-of-type(16) { text-align: center; }
table.align-center-17 td:nth-of-type(17) { text-align: center; }
table.align-center-18 td:nth-of-type(18) { text-align: center; }
table.align-center-19 td:nth-of-type(19) { text-align: center; }
table.align-center-20 td:nth-of-type(20) { text-align: center; }

table.align-left-1 td:nth-of-type(1) { text-align: left; }
table.align-left-2 td:nth-of-type(2) { text-align: left; }
table.align-left-3 td:nth-of-type(3) { text-align: left; }
table.align-left-4 td:nth-of-type(4) { text-align: left; }
table.align-left-5 td:nth-of-type(5) { text-align: left; }
table.align-left-6 td:nth-of-type(6) { text-align: left; }
table.align-left-7 td:nth-of-type(7) { text-align: left; }
table.align-left-8 td:nth-of-type(8) { text-align: left; }
table.align-left-9 td:nth-of-type(9) { text-align: left; }
table.align-left-10 td:nth-of-type(10) { text-align: left; }
table.align-left-11 td:nth-of-type(11) { text-align: left; }
table.align-left-12 td:nth-of-type(12) { text-align: left; }
table.align-left-13 td:nth-of-type(13) { text-align: left; }
table.align-left-14 td:nth-of-type(14) { text-align: left; }
table.align-left-15 td:nth-of-type(15) { text-align: left; }
table.align-left-16 td:nth-of-type(16) { text-align: left; }
table.align-left-17 td:nth-of-type(17) { text-align: left; }
table.align-left-18 td:nth-of-type(18) { text-align: left; }
table.align-left-19 td:nth-of-type(19) { text-align: left; }
table.align-left-20 td:nth-of-type(20) { text-align: left; }

/* Gallery and Thumbnail Elements */
li.gallerybox div.thumb {
    border: none;
    background-color: var(--thumb-bg);
    padding: 2px;
    border-radius: 2px;
}

/* Popups and Hover Previews */
.mwe-popups {
    background: var(--body-light);
    border: 1px solid var(--body-border);
    border-radius: 4px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.mwe-popups .mwe-popups-container {
    color: var(--text-color);
    background: var(--body-light);
}

.mwe-popups .mwe-popups-container.flipped-x-y:before,
.mwe-popups .mwe-popups-container.flipped-y:before {
    border-top: none;
}

.mwe-popups .mwe-popups-container.mwe-popups-no-image-tri:before {
    border-bottom: none;
}

.mwe-popups .mwe-popups-container.flipped-x-y:after,
.mwe-popups .mwe-popups-container.flipped-y:after {
    border-top-color: var(--body-light);
}

.mwe-popups .mwe-popups-container.mwe-popups-no-image-tri:after {
    border-bottom-color: var(--body-light);
}

.mwe-popups .mwe-popups-settings-icon:hover,
.mwe-popups .mwe-popups-settings-icon:active {
    background-color: var(--ooui-normal--hover);
}

.mwe-popups .mw-ui-icon-element:not(.disabled):hover {
    background: none;
}

.mwe-popups .mwe-popups-extract {
    color: var(--text-color);
    line-height: 1.4;
}

.mwe-popups .mwe-popups-extract[dir='ltr']:after {
    background-image: linear-gradient(to right,rgba(49,62,89,0),var(--body-light) 50%);
}

.mwe-popups-overlay {
    background-color: var(--ooui-window-background);
}

/* Diff Display System */
.mw-diff-movedpara-left::after,
.mw-diff-movedpara-right::after {
    color: var(--text-color);
}

.mw-diff-table-prefix .mw-diff-inline-legend .mw-diff-inline-legend-ins {
    background: var(--diff-addedline-background);
    color: var(--text-color);
    padding: 2px 4px;
    border-radius: 2px;
}

.mw-diff-table-prefix .mw-diff-inline-legend .mw-diff-inline-legend-del {
    background: var(--diff-inline-deletedline);
    color: var(--text-color);
    padding: 2px 4px;
    border-radius: 2px;
}

.mw-diff-inline-added.mw-diff-empty-line::after {
    background: var(--diff-addedline-background);
    color: var(--byline-color);
}

.mw-diff-inline-deleted.mw-diff-empty-line::after {
    background: var(--diff-inline-deletedline);
    color: var(--byline-color);
}

/* OSRS-Specific Content Elements */
.skill-thieving:hover > a:last-child {
    background: #713684;
}

.skill-smithing:hover > a:last-child {
    background: #b69213;
}

/* Search Result Images */
.searchResultImage .searchResultImage-thumbnail img {
    border-color: var(--body-border);
    border-radius: 2px;
}

/* Family Tree Elements */
td.famtreesub {
    margin: 0;
    padding: 0;
}

td.famtreesub table {
    border-spacing: 0;
    margin: 0;
    padding: 0;
    width: 100%;
}

td.famtreesub table td {
    height: 1em;
    width: 1em;
}

td.famtreeleaf {
    background: var(--body-light);
    border: 1px solid var(--body-border);
    padding: 0.2em;
    text-align: center;
}

/* Various UI State Elements */
.watchlistredir {
    font-style: italic;
}

tr.mw-abusefilter-list-disabled td {
    color: var(--byline-color);
}

.mw-abusefilter-log-hidden-entry {
    color: var(--subtle-color);
}

body td.mw-abusefilter-history-changed {
    background: var(--table-no-background);
    color: var(--table-no-color);
}

/* --- End Batch 4 Section --- */

/* --- Batch 5: SMW, Charts, Mobile & Final Interface Elements --- */

/* Semantic MediaWiki (SMW) Components */
.smwb-theme-light .smwb-title,
.smwb-theme-light .smwb-center,
.smwb-theme-light .smwb-actions {
    background-color: var(--body-mid);
}

.smwb-theme-light .smwb-factbox {
    border-left-color: var(--body-mid);
}

.smwb-theme-light .smwb-ifactbox {
    border-right-color: var(--body-mid);
}

.smw-ask-format fieldset {
    border-color: var(--sidebar);
    padding: 8px;
    margin: 8px 0;
}

.smw-ask-query-format select {
    background-color: var(--ooui-input);
    border: 1px solid var(--ooui-input-border);
    color: var(--text-color);
    padding: 4px 8px;
    border-radius: 2px;
}

.smw-ask-button-lgrey:hover {
    background-color: var(--ooui-normal--hover);
    border-color: var(--ooui-normal-border);
}

/* Chart and Graph Elements */
.rsw-chartjs.rsw-chart-error {
    background-color: var(--errorbox-bg);
    border: 1px solid var(--errorbox-border);
    padding: 16px;
    border-radius: 4px;
    text-align: center;
}

.smw-callout-error {
    background-color: var(--errorbox-bg);
    border-color: var(--errorbox-border);
    border: 1px solid;
    padding: 8px 12px;
    border-radius: 4px;
    margin: 8px 0;
}

.smw-callout-warning {
    background-color: var(--warningbox-bg);
    border-color: var(--warningbox-border);
    border: 1px solid;
    padding: 8px 12px;
    border-radius: 4px;
    margin: 8px 0;
}

.smallChart .highcharts-button title + rect {
    display: none;
}

.smallChart .zoomButton {
    display: none;
}

.highcharts-button-box {
    fill: var(--ooui-normal);
    stroke: var(--ooui-normal-border);
}

.highcharts-scrollbar-track {
    fill: transparent;
    stroke: var(--ooui-input-border);
}

.highcharts-scrollbar-thumb {
    fill: var(--ooui-normal);
    stroke: var(--ooui-normal-border);
}

.highcharts-scrollbar-button {
    fill: var(--ooui-normal);
    stroke: var(--ooui-normal-border);
}

/* GEMW (Grand Exchange Market Watch) Elements */
.gemw-container.gemw-historical .gemw-header.neutral {
    border-color: var(--gemw-historical-border-color);
}

/* Form and Matrix Elements */
.mw-htmlform-ooui .mw-htmlform-matrix tbody tr:nth-child(even) td {
    background-color: var(--body-light);
}

.mw-htmlform-ooui .mw-htmlform-matrix tbody tr:hover td {
    background-color: var(--body-mid);
}

/* Link Buttons and Tiles */
.tile-bottom.link-button {
    align-self: flex-end;
    padding: 0;
}

.tile-bottom.link-button a {
    display: block;
    text-align: center;
    padding: 0.75em 1.5em 0.8em;
    text-decoration: none;
    background-color: var(--ooui-normal);
    color: var(--ooui-text);
    border: 1px solid var(--ooui-normal-border);
    border-radius: 2px;
    transition: background-color 0.2s;
}

.tile-bottom.link-button a:hover {
    background-color: var(--ooui-normal--hover);
}

/* Additional Incomplete Implementation Fixes */

/* Fix Production Selected Variables */
.production-selected {
    background: var(--production-selected-background) !important;
    color: var(--production-selected-color) !important;
}

/* Enhanced WikiTable Border Consistency */
.wikitable > tr > td,
.wikitable > * > tr > td {
    border-color: var(--wikitable-border);
}

.wikitable > tr > th.table-noborder,
.wikitable > tr > td.table-noborder,
.wikitable > * > tr > th.table-noborder,
.wikitable > * > tr > td.table-noborder {
    padding-left: 0 !important;
    padding-right: 0 !important;
}

table.wikitable td.no-cell-spacing table {
    height: calc(100% + 2px);
}

/* Redirect Text Enhancement */
.mw-content-ltr .redirectText li:first-child::before {
    -webkit-mask: url(https://oldschool.runescape.wiki/images/Redirect-arrow.svg) no-repeat 50% 50% / contain;
    mask: url(https://oldschool.runescape.wiki/images/Redirect-arrow.svg) no-repeat 50% 50% / contain;
    display: inline-block;
    width: 47px;
    height: 20px;
}

/* Font Family Consistency */
.mw-body-content h2,
.mw-body-content h3 {
    font-family: 'PT Serif','Palatino','Georgia',serif;
}

.font-runescape {
    font-family: 'RuneScape', 'runescape_plain', sans-serif;
}

/* Quest Details Table Enhancements */
.questdetails {
    width: 100%;
    border-collapse: separate;
}

.questdetails-header {
    padding: 0.5em 1em;
    background-color: var(--questdetails-header-background);
    width: 125px;
}

.questdetails tr:nth-child(odd) .questdetails-header {
    background-color: var(--questdetails-header-background-alt);
}

/* Inventory Interface Fixes */
.inventorytable {
    background-image: url(https://oldschool.runescape.wiki/images/Inventory_tab.png);
}

.lootingbagtable {
    background-image: url(https://oldschool.runescape.wiki/images/Looting_bag_tab.png);
}

.menagerietable {
    background-image: url(https://oldschool.runescape.wiki/images/Menagerie_interface.png);
    width: 300px;
    height: 250px;
    padding: 56px 28px 34px 6px;
    border-spacing: 0;
}

.menagerietable td {
    position: relative;
    width: 46px;
    height: 32px;
}

.inventorytable .inv-quantity-text,
.lootingbagtable .inv-quantity-text {
    font-family: 'RuneScape Small', monospace;
    top: -8px;
    left: 4px;
    text-shadow: #000 1px 1px;
    color: #ff0;
}

/* Final Interface Polish */
tr.mw-abusefilter-list-disabled {
    color: var(--byline-color);
    font-style: italic;
}

/* --- Final Implementation Complete --- */

/* --- Phase 3: Advanced Content Structure & Semantic Components --- */

/* --- MW Popup Settings & Advanced Tooltips --- */
#mwe-popups-settings {
    background: var(--ooui-interface);
    border-color: var(--ooui-interface-border);
    color: var(--text-color);
    border-radius: 4px;
    padding: 16px;
}

#mwe-popups-settings header {
    border-color: var(--ooui-interface-border);
    border-bottom: 1px solid;
    padding-bottom: 8px;
    margin-bottom: 12px;
}

#mwe-popups-settings main#mwe-popups-settings-form p {
    color: var(--byline-color);
    margin: 8px 0;
}

#mwe-popups-settings main#mwe-popups-settings-form form label > span {
    color: var(--ooui-text);
    font-weight: normal;
}

/* --- Advanced Tooltip System --- */
.tippy-tooltip.light-border-theme {
    background-color: var(--body-light);
    color: var(--text-color);
    border: 1px solid var(--body-border);
    border-radius: 4px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.tippy-tooltip.light-border-theme .tippy-arrow {
    border-top-color: var(--body-light);
}

.tippy-tooltip.light-border-theme .tippy-arrow:after {
    border-top-color: var(--body-light) !important;
}

.tippy-header {
    background-color: var(--body-mid);
    border-bottom: 1px solid var(--body-border);
    padding: 8px 12px;
    font-weight: bold;
}

.js-tooltip-wrapper {
    position: absolute;
    z-index: 10;
    background-color: var(--body-light);
    border: 1px solid var(--body-border);
    color: var(--text-color);
    max-width: 75%;
    overflow-wrap: break-word;
    padding: 10px 15px;
    margin: 0px;
    box-shadow: 0 0.25rem 0.35rem -0.25rem rgba(0,0,0,0.3);
    font-size: 0.8em;
    border-radius: 4px;
}

.js-tooltip-text {
    padding: 5px;
    line-height: 1.4;
}

.js-tooltip-click {
    color: var(--button-color);
    background: var(--button-background);
    border-radius: 2em;
    cursor: pointer;
    padding: 0 0.3em;
    user-select: none;
    border: 1px solid var(--ooui-normal-border);
}

.js-tooltip-arrow {
    position: absolute;
    border-color: transparent;
    border-style: solid;
    width: 0;
    height: 0;
}

.js-tooltip-arrow.js-tooltip-arrow-pointleft {
    border-right-color: var(--body-border);
    border-left-color: transparent;
    border-left-width: 0;
}

.js-tooltip-arrow.js-tooltip-arrow-pointright {
    border-left-color: var(--body-border);
    border-right-color: transparent;
    border-right-width: 0;
}

.js-tooltip-close {
    float: right;
    margin-left: 10px;
    margin-right: -5px;
    margin-top: -5px;
    margin-bottom: 1px;
    background: var(--button-background);
    border: 1px solid var(--ooui-normal-border);
    cursor: pointer;
    border-radius: 3px;
    padding: 2px 6px;
    font-size: 12px;
}

/* --- End Phase 3 Section 1 --- */

/* --- SMW (Semantic MediaWiki) Complete System --- */

/* SMW Pre-formatted Content */
.smwpre {
    border: 1px solid var(--body-border);
    color: var(--text-color);
    background-color: var(--body-light);
    padding: 8px 12px;
    font-family: monospace;
    border-radius: 2px;
    white-space: pre-wrap;
    overflow-x: auto;
}

/* SMW Query Interface */
.smw-ask-printhead fieldset,
.smw-ask-options fieldset {
    border: 1px solid var(--sidebar);
    border-radius: 4px;
    padding: 12px;
    margin: 8px 0;
}

/* Strike-through Elements with Pseudo-elements */
.strike > span:before,
.strike > span:after {
    background: var(--sidebar);
    content: '';
    display: inline-block;
    height: 1px;
    position: relative;
    vertical-align: middle;
    width: 50%;
}

.strike > span:before {
    right: 0.5em;
    margin-left: -50%;
}

.strike > span:after {
    left: 0.5em;
    margin-right: -50%;
}

/* SMW Ask Options Fields */
.smw-ask-options-fields tr td {
    background-color: var(--smw-ask-options-even-bg);
    padding: 6px 10px;
    border: 1px solid var(--body-border);
}

.smw-ask-options-fields tr:nth-child(odd) td {
    background-color: var(--smw-ask-options-odd-bg);
}

/* SMW Top Links with Info Icons */
.smw-ask-toplinks {
    background-color: var(--body-mid);
    padding: 8px 12px;
    border-radius: 4px;
    margin: 8px 0;
}

.smw-ask-toplinks span.smw-icon-info {
    background: none;
    padding: 0 !important;
    display: inline-block;
}

.smw-ask-toplinks span.smw-icon-info::before {
    content: '';
    background: var(--text-color);
    -webkit-mask: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20'%3E%3Ctitle%3Einfo%3C/title%3E%3Cpath d='M10 0C4.477 0 0 4.477 0 10s4.477 10 10 10 10-4.477 10-10S15.523 0 10 0zM9 5h2v2H9zm0 4h2v6H9z'/%3E%3C/svg%3E") no-repeat 50% 50% / contain;
    mask: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20'%3E%3Ctitle%3Einfo%3C/title%3E%3Cpath d='M10 0C4.477 0 0 4.477 0 10s4.477 10 10 10 10-4.477 10-10S15.523 0 10 0zM9 5h2v2H9zm0 4h2v6H9z'/%3E%3C/svg%3E") no-repeat 50% 50% / contain;
    display: inline-block;
    width: 16px;
    height: 16px;
    vertical-align: text-top;
    margin-right: 4px;
}

/* SMW Ask Options Row Alternating */
.smw-ask-options-row-odd {
    background-color: var(--body-light);
}

.smw-ask-options-row-even {
    background-color: var(--body-mid);
}

/* Options Toggle Gradient */
#options-toggle:not(:checked) + #options-list .options-parameter-list:after {
    background-image: linear-gradient(to bottom,transparent,var(--body-mid) 90%);
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 40px;
    pointer-events: none;
}

/* SMW Button System */
.smw-ask-button-submit input {
    background-color: var(--ooui-normal);
    border: 1px solid var(--ooui-normal-border);
    color: var(--text-color);
    padding: 6px 12px;
    border-radius: 2px;
    cursor: pointer;
}

.smw-ask-button-submit input:hover {
    background-color: var(--ooui-normal--hover);
    border-color: var(--ooui-normal-border);
}

input.smw-ask-action-btn.smw-ask-action-btn-dblue {
    background-color: var(--ooui-progressive);
    border: 1px solid var(--ooui-progressive);
    color: #fff;
    padding: 6px 12px;
    border-radius: 2px;
    cursor: pointer;
}

input.smw-ask-action-btn.smw-ask-action-btn-dblue:hover {
    background-color: var(--ooui-progressive--hover);
    border-color: var(--ooui-progressive--hover);
}

/* SMW Tabs and Navigation */
.smw-tabs input.nav-tab:checked + label.nav-label {
    border: 1px solid var(--ooui-normal-border);
    background-color: var(--ooui-normal);
    color: var(--ooui-text);
}

.smw-tabs input.nav-tab:checked + label.nav-label:hover {
    color: inherit;
}

#tab-smw-property-value:checked + label.nav-label .usage-count {
    color: #fff;
    background-color: var(--ooui-progressive);
    padding: 2px 6px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: bold;
}

#tab-smw-property-value:checked + label.nav-label .usage-count.moderate {
    color: #fff;
    background-color: #b55e0c;
    border-color: #b55e0c;
}

#tab-smw-property-value:checked + label.nav-label .usage-count.high {
    color: #fff;
    background-color: #9f261e;
    border-color: #9f261e;
}

/* SMW Property Page Results */
.smw-property-page-results .header-title {
    background-color: var(--ooui-interface);
    border: 1px solid var(--ooui-interface-border);
    color: var(--ooui-text);
    padding: 8px 12px;
}

.smw-property-page-results .header-row > .header-title {
    border-color: var(--ooui-interface-border);
}

.smw-property-page-results .value-row:hover {
    background-color: var(--ooui-normal--hover);
    cursor: pointer;
}

.smw-property-page-results .smw-table .header-row {
    color: var(--text-color);
    font-weight: bold;
}

/* SMW UI Components */
.smw-ui-input-filter {
    background-color: var(--ooui-interface);
    border: 1px solid var(--ooui-interface-border);
    color: var(--ooui-text);
    padding: 4px 8px;
    border-radius: 2px;
}

.smw-ui-input-filter input {
    border-left: 1px solid var(--ooui-interface-border) !important;
    color: var(--ooui-text) !important;
    background: transparent;
    padding: 4px 8px;
}

/* SMW Pagination */
.smw-ui-pagination .page-link.link-disabled {
    color: var(--ooui-disabled-text);
    background-color: var(--ooui-disabled);
    border: 1px solid var(--ooui-disabled-border);
    cursor: not-allowed;
}

.smw-ui-pagination .page-link {
    background-color: var(--ooui-normal);
    border: 1px solid var(--ooui-normal-border);
    color: var(--link-color);
    padding: 6px 10px;
    margin: 0 2px;
    text-decoration: none;
    border-radius: 2px;
}

.smw-ui-pagination .page-link:hover {
    background-color: var(--ooui-normal--hover);
    border-color: var(--ooui-normal-border);
    color: var(--link-color);
}

.smw-ui-pagination .page-link.link-active {
    color: #fff;
    background-color: var(--ooui-progressive);
    border-color: var(--ooui-progressive);
}

/* SMW Factbox Components */
.smwb-theme-light .smwb-prophead {
    background-color: var(--body-mid);
    padding: 4px 8px;
    font-weight: bold;
    border: 1px solid var(--body-border);
}

.smwb-theme-light .smwb-propval {
    background-color: var(--body-light);
    padding: 4px 8px;
    border: 1px solid var(--body-border);
}

.smwb-action-separator {
    border-color: var(--wikitable-border);
    border-top: 1px solid;
    margin: 8px 0;
}

.smwb-propvalue .smwb-prophead,
.smwb-ipropvalue .smwb-prophead,
.smwb-propvalue .smwb-propval,
.smwb-ipropvalue .smwb-propval {
    font-size: 0.9em;
}

/* SMW Browse and Search Links */
#bodyContent span.smwbrowse a {
    color: var(--text-color);
    background-image: url(https://oldschool.runescape.wiki/images/Smwbrowse.svg);
    filter: var(--filter-black-to-link);
    background-repeat: no-repeat;
    background-position: left center;
    padding-left: 18px;
    text-decoration: none;
}

#bodyContent span.smwbrowse a:hover {
    color: var(--text-color);
    background-image: url(https://oldschool.runescape.wiki/images/Smwbrowse-hover.svg);
    text-decoration: underline;
}

#bodyContent span.smwsearch a {
    color: var(--text-color);
    filter: var(--filter-black-to-link);
    background-image: url(https://oldschool.runescape.wiki/images/Smwsearch.svg);
    background-repeat: no-repeat;
    background-position: left center;
    padding-left: 18px;
    text-decoration: none;
}

#bodyContent span.smwsearch a:hover {
    color: var(--text-color);
    background-image: url(https://oldschool.runescape.wiki/images/Smwsearch-hover.svg);
    text-decoration: underline;
}

/* --- End SMW Section --- */

/* --- Advanced MediaWiki Widgets & Specialized Components --- */

/* Date and Time Input Widgets */
.mw-widget-dateInputWidget-handle,
.mw-widgets-datetime-dateTimeInputWidget-handle {
    background-color: var(--ooui-input);
    color: var(--ooui-text);
    border: 1px solid var(--ooui-input-border);
    padding: 6px 10px;
    border-radius: 2px;
}

.mw-widget-dateInputWidget-calendar {
    background-color: var(--ooui-interface);
    border: 1px solid var(--ooui-interface-border);
    border-radius: 4px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.mw-widget-titleWidget-menu .mw-widget-titleOptionWidget-description {
    color: var(--byline-color);
    font-size: 0.9em;
    font-style: italic;
}

/* Kartographer Map Components */
.mw-kartographer-mapDialog-foot {
    background-color: var(--body-light);
    border-top: 1px solid var(--body-border);
    padding: 12px;
}

.mw-kartographer-interactive .leaflet-container {
    color: var(--text-color);
    font-family: inherit;
}

.mw-kartographer-interactive .leaflet-popup-content a {
    color: var(--link-color);
}

.mw-kartographer-interactive .leaflet-popup-content a:visited {
    color: var(--link-visited-color);
}

.mw-kartographer-interactive .leaflet-popup-content a:hover {
    color: var(--link-color);
    text-decoration: underline;
}

.mw-kartographer-interactive .leaflet-popup-content a:active {
    color: var(--link-color);
}

.mw-kartographer-interactive .leaflet-popup-content a.new,
.mw-kartographer-interactive .leaflet-popup-content a.new:visited {
    color: var(--redlink-color);
}

.mw-kartographer-interactive .leaflet-popup-content p {
    margin-bottom: 5px;
    font-size: 14px;
    line-height: 1.4em;
}

.leaflet-popup-content-wrapper {
    background-color: var(--body-light);
    color: var(--text-color);
    border-radius: 4px;
}

.leaflet-popup-tip {
    border-top-color: var(--body-light);
}

/* Leaflet Tooltip Variants */
.leaflet-vis-tooltip.lbl-bg-grey {
    background: #e4eaee;
    color: #444e5a;
    text-shadow: none;
    padding: 4px 8px;
    border-radius: 2px;
}

body.wgl-theme-dark .leaflet-vis-tooltip.lbl-bg-grey,
body.wgl-theme-browntown .leaflet-vis-tooltip.lbl-bg-grey {
    color: #444e5a; /* Keep consistent with light background */
}

.leaflet-vis-tooltip.lbl-bg-grey a,
.leaflet-vis-tooltip.lbl-bg-grey a:visited,
.leaflet-vis-tooltip.lbl-bg-grey a:active,
.leaflet-vis-tooltip.lbl-bg-grey a:hover,
.leaflet-vis-tooltip.lbl-bg-grey a.mw-selflink.selflink {
    color: #444e5a;
}

body.wgl-theme-dark .leaflet-vis-tooltip.lbl-bg-grey a,
body.wgl-theme-dark .leaflet-vis-tooltip.lbl-bg-grey a:visited,
body.wgl-theme-dark .leaflet-vis-tooltip.lbl-bg-grey a:active,
body.wgl-theme-dark .leaflet-vis-tooltip.lbl-bg-grey a:hover,
body.wgl-theme-dark .leaflet-vis-tooltip.lbl-bg-grey a.mw-selflink.selflink,
body.wgl-theme-browntown .leaflet-vis-tooltip.lbl-bg-grey a,
body.wgl-theme-browntown .leaflet-vis-tooltip.lbl-bg-grey a:visited,
body.wgl-theme-browntown .leaflet-vis-tooltip.lbl-bg-grey a:active,
body.wgl-theme-browntown .leaflet-vis-tooltip.lbl-bg-grey a:hover,
body.wgl-theme-browntown .leaflet-vis-tooltip.lbl-bg-grey a.mw-selflink.selflink {
    color: #444e5a;
}

.leaflet-vis-tooltip.lbl-bg-grey.leaflet-tooltip-left::before {
    display: block;
    border-left-color: #e4eaee;
}

.leaflet-vis-tooltip.lbl-bg-grey.leaflet-tooltip-right::before {
    display: block;
    border-right-color: #e4eaee;
}

.leaflet-vis-tooltip.lbl-bg-grey.leaflet-tooltip-top::before {
    display: block;
    border-top-color: #e4eaee;
}

.leaflet-vis-tooltip.lbl-bg-grey.leaflet-tooltip-bottom::before {
    display: block;
    border-bottom-color: #e4eaee;
}

/* Kartographer CSS Variables */
.mw-kartographer-interactive {
    --background-color-interactive-subtle: var(--body-light);
    --color-base: var(--text-color);
    --color-base--hover: var(--link-color);
    --border-color-base: var(--body-border);
    --background-color-base: var(--body-main);
}

/* OSRS-Specific Music and Update Components */
#musicMap data {
    display: none;
}

.musicMap-buttons {
    text-align: center;
    margin: 0.7em;
}

.update {
    border-radius: 2px;
    background: var(--body-mid);
    box-shadow: 0 0.25rem 0.35rem -0.25rem rgba(0,0,0,0.1);
    margin: 1em 0;
    padding: 0.25em 1em;
    text-align: center;
    border: 1px solid var(--body-border);
}

/* Poll System */
.pollwrapper {
    display: flex;
    align-items: center;
    flex-direction: column;
    counter-reset: question;
    margin: 20px 0;
}

.pollbox {
    position: relative;
    padding: 1em 0.7em;
    margin: 0.7em;
    margin-bottom: 1.2em;
    width: min(700px, 100%);
    font-size: 16px;
    border: 2px solid var(--body-border);
    background: var(--body-light);
    border-radius: 4px;
}

.pollbox::before {
    content: "Question " counter(question);
    counter-increment: question;
    position: absolute;
    font-size: 16px;
    font-weight: bold;
    top: -0.5em;
    margin-top: -2px;
    left: 0.6em;
    line-height: 1em;
    background: linear-gradient(0deg,var(--body-light),var(--body-light) 50%,rgba(0,0,0,0) 50%);
    padding: 0 0.6em;
    color: var(--heading-color);
}

/* --- End Specialized Components Section --- */


/* =================================================================== */
/* PHASE 4: OSRS GAMING & COMMUNITY FEATURES                         */
/* =================================================================== */

/* --- OSRS Polls & Community Systems --- */

/* Kartographer Interactive Map Popups */
.mw-kartographer-interactive .leaflet-popup-content a.new,
.mw-kartographer-interactive .leaflet-popup-content a.new:visited {
    color: var(--redlink-color);
}

/* Poll Box Framework */
.pollbox table {
    width: 100%;
    border-collapse: collapse;
    font-size: 14px;
}

.pollbox caption {
    text-align: left;
    margin-bottom: 4px;
}

.pollbox td {
    padding: 0px;
}

/* Poll Question Layout */
.pollquestion td:first-child::before {
    content: "";
    background: url(/images/Poll_shield.png?c691a);
    background-repeat: no-repeat;
    background-position: top;
    width: 10px;
    height: 14px;
    position: absolute;
    top: 4px;
    left: 0;
}

.pollquestion td:first-child {
    position: relative;
    width: 32%;
    padding-right: 0.7em;
    padding-left: 16px;
}

.pollquestion td.pollpercent {
    box-sizing: border-box;
    padding-left: 17px;
    padding-right: 8px;
}

.pollquestion td:last-child {
    width: 22%;
    padding-left: 0.7em;
}

/* Poll Notes */
.pollquestion .pollnote td {
    width: 100%;
    padding: 20px 5px;
    padding-bottom: 5px;
}

.pollquestion .pollnote td::before {
    content: none;
}

/* Poll Progress Bars */
.pollquestion data {
    display: block;
    height: 15px;
    background-image: url(/images/Poll_sword2.png?7d4c4);
    position: relative;
}

.pollquestion data::before {
    background: url(/images/Poll_sword1.png?d445b);
    width: 17px;
    right: 100%;
}

.pollquestion data::after {
    background: url(/images/Poll_sword3.png?487b5);
    width: 8px;
    left: 100%;
}

/* Archive Poll Questions */
.archivepollq th {
    text-align: left;
    font-weight: normal;
    padding: 15px 0 0 0;
}

.archivepollq td:first-child {
    position: relative;
    width: 80%;
    padding-right: 0.7em;
    padding-left: 16px;
}

.archivepollq td.archivepollpercent {
    box-sizing: border-box;
    padding: 2px;
    border: 1px solid var(--body-border);
}

.archivepollq td:last-child {
    text-align: right;
    padding-left: 0.7em;
}

.archivepollq .archivepollnote > td {
    text-align: left;
    width: 100%;
    padding: 20px 5px;
    padding-bottom: 5px;
}

.archivepollq data {
    display: block;
    height: 25px;
    background: var(--body-border);
    position: relative;
}

/* Archive Poll Error States */
.archivepollq.e {
    border: 2px solid var(--errorbox-border);
    background: var(--errorbox-bg);
}

.archivepollq.e::before {
    content: "Error";
    background: linear-gradient(0deg,var(--errorbox-bg),var(--errorbox-bg) 50%,rgba(0,0,0,0) 50%);
}


/* --- Interactive Gaming Elements --- */

/* Keypress Indicators */
.keypress {
    background: var(--keypress-background);
    color: var(--keypress-color);
    font-family: inherit;
    border: 1px solid var(--keypress-border);
    border-radius: 2px;
    font-size: 0.9em;
    margin: 0 0.1em;
    padding: 0.1em 0.4em;
    white-space: nowrap;
}

/* Music Player Integration */
.rsw-music-player {
    height: 2em;
    vertical-align: middle;
}

/* Spell Component Display (scp) */
.scp {
    display: inline-block;
    height: 1em;
    position: relative;
}

.scp img {
    height: auto;
    image-rendering: crisp-edges;
    max-width: 32px;
}

/* Coins Display with Positive Coloring */
.coins-pos {
    color: var(--coins-pos-color);
}


/* --- OSRS Content Systems --- */

/* Item Drops with Beast Versions */
.item-drops .beast-version {
    font-size: smaller;
    font-style: italic;
}

/* Store Locations with Shop Versions */
.store-locations-list .shop-version {
    font-size: smaller;
    font-style: italic;
}

/* AJAX Polls */
.ajaxpoll {
    background: var(--ajaxpoll-background);
}

.ajaxpoll .ajaxpoll-hover-vote {
    background: none;
}


/* --- Documentation & Template Framework --- */

/* Documentation Styling */
.documentation pre {
    background-color: var(--documentation-background);
    border-color: var(--documentation-border);
}

.documentation h2 {
    border-color: var(--documentation-border);
}

/* Template Data Documentation */
.mw-templatedata-doc-params dl:not(:empty) {
    column-count: 3;
    border-top: 1px solid var(--body-border);
    margin-bottom: 0.5em;
}

.mw-templatedata-doc-params dt::after {
    content: ":";
}

.mw-templatedata-doc-params dd {
    margin: 0.1em 2em;
    min-width: auto;
}

.mw-templatedata-doc-params dt {
    margin: 0.1em 2em;
    min-width: auto;
}

.mw-templatedata-doc-param-alias {
    color: var(--subtle-color);
}

.mw-templatedata-doc-muted {
    color: var(--subtle-color);
}

.tdg-templateDataParamWidget-param-alias {
    background-color: var(--ooui-normal);
    border-color: var(--ooui-normal-border);
}

.tdg-templateDataParamWidget-param-description {
    color: var(--subtle-color);
}


/* --- Message Box System --- */

/* Base Message Box Styling */
.messagebox {
    width: 65%;
    border-left: 15px solid;
    border-color: var(--body-dark);
    background-color: var(--body-light);
}

/* Message Box Variants */
.messagebox.obsolete {
    background-color: var(--messagebox-obsolete-background);
    border-color: var(--messagebox-obsolete-border);
    color: var(--messagebox-obsolete-color);
}

.messagebox.obsolete a,
.messagebox.obsolete a:visited,
.messagebox.obsolete a:active {
    color: var(--messagebox-obsolete-link-color);
}

.messagebox.info {
    background-color: var(--messagebox-info-background);
    border-color: var(--messagebox-info-border);
    color: var(--messagebox-info-color);
}

.messagebox.info a,
.messagebox.info a:visited,
.messagebox.info a:active {
    color: var(--messagebox-info-link-color);
}

.messagebox.action {
    background-color: var(--messagebox-action-background);
    border-color: var(--messagebox-action-border);
    color: var(--messagebox-action-color);
}

.messagebox.action a,
.messagebox.action a:visited,
.messagebox.action a:active {
    color: var(--messagebox-action-link-color);
}

.messagebox.warn {
    background-color: var(--messagebox-warn-background);
    border-color: var(--messagebox-warn-border);
    color: var(--messagebox-warn-color);
}

.messagebox.warn a,
.messagebox.warn a:visited,
.messagebox.warn a:active {
    color: var(--messagebox-warn-link-color);
}

.messagebox.safe {
    background-color: var(--messagebox-safe-background);
    border-color: var(--messagebox-safe-border);
    color: var(--messagebox-safe-color);
}

.messagebox.safe a,
.messagebox.safe a:visited,
.messagebox.safe a:active {
    color: var(--messagebox-safe-link-color);
}

.messagebox.disambig {
    background-color: var(--messagebox-disambig-background);
    border-color: var(--messagebox-disambig-border);
    color: var(--messagebox-disambig-color);
}

.messagebox.disambig a,
.messagebox.disambig a:visited,
.messagebox.disambig a:active {
    color: var(--messagebox-disambig-link-color);
}

.messagebox.discord {
    background-color: var(--messagebox-discord-background);
    border-color: var(--messagebox-discord-border);
    color: #fff;
}

.messagebox.discord a,
.messagebox.discord a:visited,
.messagebox.discord a:active {
    color: var(--messagebox-discord-link-color);
}

.messagebox.discord a.external,
.messagebox.discord a:visited.external,
.messagebox.discord a:active.external {
    font-style: italic;
}


/* --- Typography & Layout Refinements --- */

/* Enhanced Heading Borders */
h1 {
    border-color: var(--sidebar);
}

h2 {
    border-color: var(--sidebar);
}

h3 {
    color: var(--text-color);
}

/* Redirect Text Enhancements */
.mw-content-ltr .redirectText li:first-child::before {
    content: '';
    background: currentcolor;
    -webkit-mask: url(/images/Redirect-arrow.svg?d4dde) no-repeat 50% 50% / contain;
    mask: url(/images/Redirect-arrow.svg?d4dde) no-repeat 50% 50% / contain;
}

/* Table Border Refinements */
.wikitable > tr > td,
.wikitable > * > tr > td {
    border-color: var(--wikitable-border);
}

.wikitable > tr > th.table-noborder,
.wikitable > tr > td.table-noborder,
.wikitable > * > tr > th.table-noborder,
.wikitable > * > tr > td.table-noborder {
    border-left-style: hidden;
    border-right-style: hidden;
    padding-left: 0;
    padding-right: 0;
}

/* CDX Button System Refinements */
.cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive {
    color: var(--text-color);
}

input[type='checkbox']:hover + .cdx-button.cdx-button--weight-quiet {
    background-color: rgba(0,24,73,0.02745098);
}

input[type='checkbox']:hover + .cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive,
input[type='checkbox']:hover + .cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive {
    background-color: rgba(0,24,73,0.02745098);
    color: var(--text-color);
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive:hover {
    background-color: rgba(0,24,73,0.02745098);
    color: var(--text-color);
}

input[type='checkbox']:focus + .cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive,
input[type='checkbox']:focus + .cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive {
    color: var(--text-color);
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive:focus {
    color: var(--text-color);
}

input[type='checkbox']:active + .cdx-button.cdx-button--weight-quiet {
    background-color: rgba(0,36,73,0.08235294);
}

input[type='checkbox']:active + .cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive,
input[type='checkbox']:active + .cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive {
    background-color: rgba(0,36,73,0.08235294);
    color: var(--text-color);
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive:active {
    background-color: rgba(0,36,73,0.08235294);
    color: var(--text-color);
}

/* RuneScape Font Support */
.font-runescape {
    font-family: 'RuneScape';
}


/* =================================================================== */
/* PHASE 5: OSRS GAME INTERFACE & EQUIPMENT SYSTEMS                  */
/* =================================================================== */

/* --- Advanced Game Interface Systems --- */

/* Equipment Tab Framework */
.equipment {
    background: #3e3529;
    border: 9px solid transparent;
    border-image-source: url(/images/Interface_border.png?5150e);
    border-image-slice: 9;
    border-image-width: 9px;
    border-image-outset: 0;
    border-image-repeat: repeat;
    margin: 7px 0;
    padding: 0 2px 0 3px;
    border-radius: 4px;
}

.equipment-div {
    background-image: url(/images/Worn_equipment_tab_%28no_buttons%29.png?324d3);
    height: 222px;
    margin: 15px 0 14px;
}

.equipment-div-buttons {
    background-image: url(/images/Worn_equipment_tab_%28borderless%29.png?bce01);
    height: 244px;
    margin: 4px 0 3px;
}

.equipment-blank {
    background-image: url(/images/Blank_slot.png?75904);
    width: 36px;
    height: 36px;
}

/* Equipment Positioning */
.equipment-left {
    float: left;
    clear: left;
    margin-right: 7px;
}

.equipment-center {
    margin-left: auto;
    margin-right: auto;
}

.equipment-right {
    float: right;
    clear: right;
    margin-left: 7px;
}

/* Equipment Stats Display */
.equipment-stats {
    font-family: RuneScape;
    font-size: 16px;
    line-height: 14px;
    color: #ff981f;
    text-shadow: 1px 1px 0 black;
}

.equipment-ikod {
    max-width: 325px;
}

.equipment-stats b {
    font-family: RuneScape;
    font-weight: bold;
    display: block;
    margin-top: 2px;
}

.equipment-stats data {
    display: block;
    padding-left: 8px;
}

.equipment-stats data img {
    vertical-align: bottom;
}

/* Equipment IKOD (Item Knowledge on Demand) */
.equipment-ikod em {
    font-style: normal;
    display: block;
    margin-bottom: 3px;
}

.equipment-ikod b {
    font-weight: normal;
    color: white;
}

.equipment-ikod strong {
    font-weight: normal;
    color: red;
}

.equipment-ikod ul {
    list-style: none;
    margin: 0;
}

.equipment-ikod li {
    display: inline-block;
    width: 32px;
    height: 32px;
    line-height: 32px;
    margin: 0;
    margin-right: 14px;
}

.equipment-ikod img {
    cursor: help;
}

.equipment-ikod hr {
    border-top: 1px solid #0e0e0c;
    border-bottom: 1px solid #474745;
    margin: 7px 0;
}

/* Equipment Slot Positioning */
.equipment-plinkp {
    position: absolute;
    width: 36px;
    height: 36px;
    left: 0px;
    display: flex;
    justify-content: center;
    align-items: center;
}

.equipment-head {
    left: 70px;
    top: 0px;
}

.equipment-cape {
    left: 29px;
    top: 39px;
}

.equipment-neck {
    left: 70px;
    top: 39px;
}

.equipment-ammo {
    left: 111px;
    top: 39px;
}

.equipment-ammo2 {
    left: 111px;
    top: 0px;
}

.equipment-weapon {
    left: 14px;
    top: 78px;
}

.equipment-torso {
    left: 70px;
    top: 78px;
}

.equipment-shield {
    left: 126px;
    top: 78px;
}

.equipment-legs {
    left: 70px;
    top: 118px;
}

.equipment-gloves {
    left: 14px;
    top: 158px;
}

.equipment-boots {
    left: 70px;
    top: 158px;
}

.equipment-ring {
    left: 126px;
    top: 158px;
}

.equipment-statsbutton {
    top: 204px;
    left: 0px;
    width: 40px;
    height: 40px;
    cursor: pointer;
    box-shadow: 2px 2px 3px black;
}

.equipment-ikodbutton {
    top: 204px;
    left: 90px;
    width: 40px;
    height: 40px;
    cursor: pointer;
    box-shadow: 2px 2px 3px black;
}

/* Inventory Systems */
.inventorytable {
    background-image: url(/images/Inventory_tab.png?dd7c2);
    width: 204px;
    padding: 13px 16px 10px;
}

.lootingbagtable {
    background-image: url(/images/Looting_bag_tab.png?4088f);
    width: 204px;
    padding: 31px 17px 20px 12px;
}

.menagerietable {
    background-image: url(/images/Menagerie_interface.png?89434);
    background-repeat: no-repeat;
    background-position: top left;
}

.menagerietable td {
    padding: 0;
    border: 0;
    text-align: center;
}

/* Rune Pouch Systems */
.runepouchtable {
    background-image: url(/images/Rune_pouch_background.png?30a74);
    width: 158px;
    padding: 24px 7px 6px;
}

.runepouchtable.storage-left {
    margin-left: 23px;
}

.runepouchtable.storage-center {
    margin-left: auto;
    margin-right: auto;
}

.runepouchtable.storage-right {
    margin-right: 23px;
}

.runepouchtable td {
    width: 32px;
    height: 32px;
    line-height: 1.6em;
}

.runepouchtable td.middle-rune {
    padding-left: 24px;
    padding-right: 24px;
}

.divinerunepouch td.middle-rune {
    padding-left: 6px;
    padding-right: 6px;
}

.divinerunepouch td.middle-rune + td.middle-rune {
    padding-left: 0;
}

/* Inventory Quantity Text System */
.inventorytable .inv-quantity-text,
.lootingbagtable .inv-quantity-text {
    font-family: 'RuneScape Small';
    font-size: 12pt;
    position: absolute;
    pointer-events: none;
}

.runepouchtable .inv-quantity-text,
.equipment .inv-quantity-text {
    position: absolute;
    top: -3px;
}

.runepouchtable .inv-quantity-text {
    left: -1px;
}

/* Quantity Color Tiers */
.runepouchtable .inv-quantity-text.qty-1,
.equipment .inv-quantity-text.qty-1 {
    color: #ff0;
}

.runepouchtable .inv-quantity-text.qty-100k,
.equipment .inv-quantity-text.qty-100k {
    color: #fff;
}

.runepouchtable .inv-quantity-text.qty-10m,
.equipment .inv-quantity-text.qty-10m {
    color: #01ff80;
}

/* Rune Pouch Positioning Refinements */
.runepouchtable td.middle-rune .inv-quantity-text {
    left: 23px;
}

.divinerunepouch td.middle-rune .inv-quantity-text {
    left: 5px;
}

.divinerunepouch td.middle-rune + td.middle-rune .inv-quantity-text {
    left: 0;
}

/* Noted Item Display */
span.noted-item {
    width: 30px;
    height: 29px;
    text-align: center;
    display: inline-block;
}

span.noted-item a {
    width: 30px;
    height: 29px;
}


/* --- OSRS-Specific Gaming Components --- */

/* Enhanced Music Player Interface */
.musicplayer {
    border: 1px solid var(--body-border);
    font-size: 90%;
    background: var(--body-light);
    box-shadow: 0 0.25rem 0.35rem -0.25rem rgba(0,0,0,0.1);
    max-width: 300px;
    margin: 0 0 1em 1em;
    padding: 5px;
}

.musicplayer audio {
    max-width: 298px;
    margin-left: auto;
    margin-right: auto;
}

/* Transcript Systems */
.transcript {
    background: var(--body-light);
    border-radius: 0 0 120px 120px / 0 0 8px 8px;
    box-shadow: 0 0.25rem 0.35rem -0.25rem rgba(0,0,0,0.3);
    max-width: 90ch;
    overflow: hidden;
    margin-bottom: 1em;
    padding: 0.5em 1em 1em;
    clear: left;
}

.transcript.godletter {
    margin: 1em auto;
    padding: 1em 1.5em;
    max-width: 60ch;
}

.transcript-chatbox-image {
    display: inline-block;
    margin-right: 5px;
    position: relative;
    text-align: center;
    width: 32px;
}

.transcript-chatbox-image + .transcript-chatbox-image {
    left: -10px;
    top: 10px;
    margin-right: 0;
}

.transcript-opt::before {
    display: inline-block;
    content: '';
    background: currentcolor;
    -webkit-mask: url(/images/Black-chevron.svg?00549) no-repeat 50% 50% / contain;
    mask: url(/images/Black-chevron.svg?00549) no-repeat 50% 50% / contain;
    width: 7px;
    height: 10px;
    margin-right: 5px;
}

/* Enhanced RuneScape Font Variants */
.font-runescape-bold {
    font-family: 'RuneScape';
    font-weight: bold;
}

.font-runescape-small {
    font-family: 'RuneScape Small';
}

.font-runescape-quill-8 {
    font-family: 'RuneScape Quill 8';
}

/* Link Templates for Lists */
.mw-parser-output > ul .plink-template,
.mw-parser-output > ul .plinkp-template,
.mw-parser-output > ol .plink-template,
.mw-parser-output > ol .plinkp-template {
    width: 35px;
    line-height: 29px;
    text-align: center;
    display: inline-block;
}

.plinkt-image {
    text-align: center;
}


/* --- Community & Feedback Systems --- */

/* Gloop Feedback Framework */
.gloop-feedback-wrapper.tile {
    margin-bottom: 0.75em;
    padding-bottom: 1.5em;
}

.gloop-feedback-resolve-toggle {
    display: inline;
    padding: 0.25em 0.75em;
    border-radius: 0.4em;
    font-size: 0.85em;
    font-weight: bold;
}

.gloop-feedback-categories {
    display: inline-block;
    float: right;
    clear: right;
}

.gloop-feedback-category {
    display: inline;
    padding: 0.25em 0.75em;
    border-radius: 10em;
    margin-left: 4px;
    font-size: 0.85em;
    cursor: help;
    font-weight: bold;
}

/* Gloop Feedback Category Colors */
.gloop-feedback-category-beginner {
    color: var(--droptable-common-text-color);
    background-color: var(--droptable-common-background);
}

.gloop-feedback-category-game {
    color: var(--droptable-uncommon-text-color);
    background-color: var(--droptable-uncommon-background);
}

.gloop-feedback-category-wiki {
    color: var(--droptable-always-text-color);
    background-color: var(--droptable-always-background);
}

.gloop-feedback-category-none {
    color: var(--keypress-color);
    background-color: var(--infobox-room-poh-color);
}

/* Enhanced Ajax Poll System */
.ajaxpoll .ajaxpoll-hover-revoke {
    background: none;
}

.ajaxpoll .ajaxpoll-ajax,
.ajaxpoll .ajaxpoll-misc,
.ajaxpoll .ajaxpoll-info {
    color: var(--ajaxpoll-text-color);
}

.ajaxpoll .ajaxpoll-answer-vote {
    border-color: var(--ajaxpoll-answerbar-border);
}

.ajaxpoll .ajaxpoll-answer-vote div {
    background: var(--ajaxpoll-answerbar-background);
    border-color: var(--ajaxpoll-answerbar-border);
}

.ajaxpoll .ajaxpoll-our-vote div {
    border-color: #3c780a;
}

.ajaxpoll-id-info {
    display: none;
}

/* Reference System Enhancements */
.reflist-lower-alpha {
    list-style-type: lower-alpha;
}

sup.reference:target {
    background-color: var(--body-light);
}


/* --- Advanced TOC & Navigation --- */

/* Floor Number Display Settings */
#toc li a span.toctext span span:nth-child(2) {
    display: none;
}

.floornumber-setting-gb #toc li a span.toctext span span:nth-child(2) {
    display: none;
}

.floornumber-setting-us #toc li a span.toctext span span:nth-child(1) {
    display: none;
}

.floornumber-setting-gb #toc li a span.toctext span span:nth-child(1) {
    display: inline;
}

.floornumber-setting-us #toc li a span.toctext span span:nth-child(2) {
    display: inline;
}

/* Floor Number Override Controls */
.floornumber-override-gb #toc li a span.toctext span span:nth-child(2) {
    display: none !important;
}

.floornumber-override-us #toc li a span.toctext span span:nth-child(1) {
    display: none !important;
}

.floornumber-override-gb #toc li a span.toctext span span:nth-child(1) {
    display: inline !important;
}

.floornumber-override-us #toc li a span.toctext span span:nth-child(2) {
    display: inline !important;
}

/* Template Data UI Enhancements */
.mw-templateData-template-map-list-menu-panel {
    border-right-color: var(--ooui-interface-border);
}

.tdg-templateDataParamWidget-param-alias:first-child {
    background-color: var(--ooui-normal);
    border-color: var(--ooui-normal-border);
}


/* --- Enhanced Typography & Interface Polish --- */

/* CDX Button System Enhancements */
.cdx-button.cdx-button--weight-quiet:hover {
    background-color: rgba(0,24,73,0.02745098);
}

.cdx-button.cdx-button--weight-quiet:active {
    background-color: rgba(0,36,73,0.08235294);
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive {
    color: var(--text-color);
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive:hover {
    background-color: rgba(0,24,73,0.02745098);
    color: var(--text-color);
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive:focus {
    color: var(--text-color);
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive:active {
    background-color: rgba(0,36,73,0.08235294);
    color: var(--text-color);
}

/* Enhanced Border Controls */
input[type='checkbox']:hover + .cdx-button.cdx-button--weight-quiet {
    color: var(--text-color);
    border-color: transparent;
}

input[type='checkbox']:hover + .cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive,
input[type='checkbox']:hover + .cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive {
    border-color: transparent;
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive:hover {
    border-color: transparent;
}

input[type='checkbox']:active + .cdx-button.cdx-button--weight-quiet {
    color: var(--text-color);
    border-color: #72777d;
}

input[type='checkbox']:active + .cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive,
input[type='checkbox']:active + .cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive {
    border-color: #72777d;
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive:active {
    border-color: #72777d;
}

/* Redirect Arrow Enhancement */
.mw-content-ltr .redirectText li:first-child::before {
    display: inline-block;
    width: 47px;
    height: 20px;
}

/* Advanced Table Handling */
table.wikitable td.no-cell-spacing table {
    margin: -1px;
    width: calc(100% + 2px);
}

/* Quest Details System */
.questdetails {
    background-color: var(--body-light);
    border: 1px solid var(--body-border);
}

.table-na {
    background: var(--table-na-background);
    color: var(--table-na-color);
}

/* MediaWiki Widget Enhancements */
.mw-widget-dateInputWidget-handle,
.mw-widgets-datetime-dateTimeInputWidget-handle {
    border-color: var(--ooui-input-border);
}

.smw-ask-query-format select {
    background-color: var(--ooui-interface);
    border: 1px solid var(--ooui-interface-border);
    color: var(--ooui-text);
}

/* Highcharts Integration */
.highcharts-scrollbar-track {
    stroke: var(--ooui-interface-border);
}


/* =================================================================== */
/* PHASE 6: MAIN PAGE & CONTENT TILE SYSTEMS                         */
/* =================================================================== */

/* --- Main Page Layout & Grid Systems --- */

/* Main Page Framework */
body.page-Old_School_RuneScape_Wiki .mw-parser-output {
    max-width: 75em;
    margin: 0 auto;
}

body.page-Old_School_RuneScape_Wiki.action-view .catlinks,
body.page-Old_School_RuneScape_Wiki.action-view #contentSub,
body.page-Old_School_RuneScape_Wiki.action-view #siteNotice {
    display: none;
}

/* Main Page Header */
.mainpage-header {
    display: flex;
    margin: 2.6em 1.75em 1.5em;
}

.mainpage-header .header-intro {
    flex: 2;
}

.mainpage-header .header-intro h1 {
    font-size: 2.5em;
    font-weight: bold;
    border: none;
    margin: 0 0 0.15em;
}

.mainpage-header .header-intro p {
    font-size: 1.1em;
    line-height: 1.7em;
}

.mainpage-header .header-stats {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: -1em;
}

/* Main Page Body Grid */
.mainpage-body {
    display: grid;
    grid-template-areas: "update update update" "content content content" "left left right";
    gap: 0.9rem;
    grid-template-columns: repeat(3,1fr);
}

.mainpage-body:has(.mainpage-event) {
    grid-template-areas: "event event event" "update update update" "content content content" "left left right";
}

.mainpage-body h2 a {
    color: var(--text-color);
}

.mainpage-body .tile {
    padding-left: 1.75em;
    padding-right: 1.75em;
    max-width: 100%;
}

.mainpage-body .tile-row {
    display: grid;
    gap: 0.9rem;
}

/* Main Page Column Layout */
.mainpage-left {
    grid-area: left;
    flex: 2;
    display: flex;
    flex-flow: column wrap;
}

.mainpage-left > * {
    margin: 0 0 0.9rem;
}

.mainpage-right {
    grid-area: right;
    flex: 1;
    display: flex;
    flex-flow: column wrap;
}

.mainpage-right > * {
    margin: 0 0 0.9rem;
}

/* Recent Updates Section */
.mainpage-recent-updates {
    grid-area: update;
    grid-template-columns: repeat(3,1fr);
}

.mainpage-recent-updates .tile-halves {
    flex: 1;
    align-content: flex-start;
}

.mainpage-recent-updates .tile-halves:hover .tile-top img {
    transform: scale(1.04);
}

.mainpage-recent-updates .tile-halves .tile-top span {
    width: 100%;
}

.mainpage-recent-updates .tile-bottom.link-button a {
    text-align: left;
    padding: 1rem 1.5rem 0.75rem;
}

.mainpage-recent-updates h2 {
    margin: -0.5em 0 0.3em;
}

.mainpage-recent-updates p:not(.byline) {
    font-size: 0.9em;
    line-height: 1.75em;
    color: var(--text-color);
}

/* Contents Section */
.mainpage-contents {
    grid-area: content;
    grid-template-columns: repeat(6,1fr);
}

.mainpage-contents .tile-halves {
    flex: 1;
}

.mainpage-contents .tile-top {
    position: relative;
}

.mainpage-contents h2 {
    margin: 0;
    padding: 0;
}

.mainpage-contents .tile-bottom.link-button a {
    padding: 0.75em 0.2em;
}


/* --- Content Tile & Card Systems --- */

/* Base Tile Components */
.tile h2 {
    font-size: 1.4em;
    font-weight: bold;
    border: none;
    margin: 0 0 0.4em;
}

.tile .byline + h2 {
    margin-top: -0.5em;
}

.tile.dark h2 {
    color: var(--tile-dark-header-color);
}

.tile-halves h2 {
    font-size: 1.4em;
    font-weight: bold;
    border: none;
    margin: 0 0 0.4em;
}

.tile-halves .byline + h2 {
    margin-top: -0.5em;
}

/* Tile Top Sections */
.tile-top {
    width: 100%;
    padding: 1.3rem 1.5rem 0.6rem;
}

.tile-top.tile-image {
    display: flex;
    align-items: center;
    background-color: var(--byline-color);
    overflow: hidden;
    padding: 0;
    height: 13vw;
    max-height: 12em;
    transition: 0.4s ease-out;
}

.tile-halves:hover .tile-top.tile-image img {
    transform: scale(1.1);
    transition: 0.5s ease-out;
}

.tile-top.tile-image span {
    width: 100%;
}

.tile-top.tile-image img {
    width: 100%;
    object-fit: cover;
    max-height: 200px;
    transition: 0.4s ease-out;
}

/* Popular Pages Grid */
.popular-pages ul {
    display: grid;
    grid-template-columns: repeat(3,1fr);
    grid-gap: 0.6em;
    margin: 1em 0 0.7em 0;
}

.mp-popular-page-light {
    display: flex;
    align-items: center;
    background-color: var(--button-background);
    transition: 100ms;
}

.mp-popular-page-light a {
    flex: 1;
    display: block;
    color: #fff;
    font-weight: bold;
    text-align: center;
    text-decoration: none;
    padding: 0.7em 1em;
}

.mp-popular-page-light:hover {
    filter: brightness(115%);
    transition: 100ms;
}


/* --- Skills Navigation & Gaming Content --- */

/* Skills Grid System */
.mainpage-skills ul {
    columns: 3 9em;
    margin: 1em 0.7em 0.7em 1em;
}

.mainpage-skills li {
    display: flex;
    margin-bottom: 0.29em;
}

.mainpage-skills li span a {
    border-radius: 2px;
    padding: 4px;
    width: 25px;
    height: 25px;
    text-align: center;
    display: flex;
    justify-content: center;
    align-items: center;
}

.mainpage-skills li > a:last-child {
    flex: 1;
    display: flex;
    align-items: center;
    font-weight: bold;
    padding-left: 0.7em;
    text-decoration: none;
}

.mainpage-skills li:hover a:first-child {
    border-radius: 2px 0 0 2px;
}

.mainpage-skills li:hover > a:last-child {
    color: rgba(255,255,255,0.9);
    border-radius: 0 2px 2px 0;
}

/* Skill Category Colors */
.skill-agility span a,
.skill-melee span a {
    background: #bc483d;
}

.skill-ranged span a {
    background: #748d36;
}

.skill-magic span a {
    background: #6274ab;
}

.skill-fishing span a,
.skill-fletching span a {
    background: #3e8e9a;
}

.skill-cooking span a,
.skill-thieving span a {
    background: #91689e;
}

.skill-farming span a,
.skill-woodcutting span a {
    background: #59924f;
}

.skill-mining span a {
    background: #6385a8;
}

.skill-smithing span a {
    background: #d2b244;
}


/* --- Social & Community Integration --- */

/* Discord Integration Tile */
.mainpage-discord {
    border: none;
    box-shadow: 0 0.25rem 0.35rem -0.25rem rgba(0,0,0,0.3);
}

.mainpage-discord .tile-top {
    display: flex;
    align-items: center;
    background: #5865f2;
    padding: 1em 1.75em;
}

.mainpage-discord .tile-top a {
    flex: 1;
    position: relative;
    text-decoration: none;
}

.mainpage-discord .tile-top a:hover .arrow {
    transform: translateX(50%);
}

.mainpage-discord .tile-bottom {
    background: #525ee0;
    border: none;
    padding: 1em 1.75em;
}

.mainpage-discord .tile-bottom p {
    color: #fff;
    font-weight: bold;
    font-size: 0.9em;
    text-align: center;
    text-transform: uppercase;
    letter-spacing: 0.03em;
    margin: 0;
}

.mainpage-discord .partner-icon {
    margin-right: 0.75em;
}

.mainpage-discord .server-name {
    color: #fff;
    font-weight: bold;
    font-size: 1.25em;
    margin: 0.5em 0 -0.15em;
}

.mainpage-discord .server-tagline {
    color: rgba(255,255,255,0.9);
    margin-bottom: 0.5em;
}

.mainpage-discord .arrow {
    position: absolute;
    top: calc(50% - .5em);
    right: 0;
    height: 1em;
    width: 0.7em;
    background-size: 0.7em 1em;
    transition: 0.3s ease-out;
}

/* Twitter Integration Tile */
.mainpage-twitter {
    border: none;
    box-shadow: 0 0.25rem 0.35rem -0.25rem rgba(0,0,0,0.3);
}

.mainpage-twitter .tile-top {
    display: flex;
    align-items: center;
    background: #15202b;
    padding: 1em 1.75em;
}

.mainpage-twitter .tile-top a {
    flex: 1;
    position: relative;
    text-decoration: none;
}

.mainpage-twitter .tile-top a:hover .arrow {
    transform: translateX(50%);
}

.mainpage-twitter .tile-bottom {
    background: #121c26;
    border: none;
    padding: 1em 1.75em;
}

.mainpage-twitter .tile-bottom p {
    color: #fff;
    font-weight: bold;
    font-size: 0.9em;
    text-align: center;
    text-transform: uppercase;
    letter-spacing: 0.03em;
    margin: 0;
}

.mainpage-twitter .twitter-logo {
    margin-right: 0.75em;
}

.mainpage-twitter .twitter-name {
    color: #fff;
    font-weight: bold;
    font-size: 1.25em;
    margin: 0.5em 0 -0.15em;
}

.mainpage-twitter .twitter-tagline {
    color: rgba(255,255,255,0.9);
    margin-bottom: 0.5em;
}

.mainpage-twitter .arrow {
    position: absolute;
    top: calc(50% - .5em);
    right: 0;
    height: 1em;
    width: 0.7em;
    background-size: 0.7em 1em;
    transition: 0.3s ease-out;
}

/* Community Editing Tile */
.mainpage-editing {
    border: none;
    box-shadow: 0 0.25rem 0.35rem -0.25rem rgba(0,0,0,0.3);
}

.mainpage-editing .tile-top {
    background: #438ab5;
}

.mainpage-editing .tile-bottom {
    background: #3980ab;
    border: none;
    padding: 0.8rem 1.5rem 0.4rem;
}

.mainpage-editing h2 {
    color: #fff;
}

.mainpage-editing a {
    color: #fff;
}

.mainpage-editing p {
    color: rgba(255,255,255,0.9);
}

.mainpage-editing ul {
    list-style-image: url(/images/Transparent-chevron.svg?20dcf);
}


/* --- Advanced Content Systems --- */

/* OSWF Tile System (OSRS Wiki Festival) */
.oswf-tile.oswf-complete {
    opacity: 0.65;
}

/* Event Systems */
.mainpage-trailblazer {
    grid-area: event;
}

.mainpage-trailblazer .tb-logo {
    margin-bottom: 0.9rem;
}

.mainpage-trailblazer .tile-row {
    grid-template-columns: repeat(4,1fr);
}

/* Main Page Polls Integration */
.mainpage-poll .ajaxpoll {
    border: none;
    background: none;
    padding: 0;
    width: auto;
}

/* Transcript Enhancements */
.transcript-opt.disabled {
    filter: opacity(0.5);
}

.ns-120 .mw-parser-output s,
.transcript s {
    text-decoration-color: var(--transcript-strikethrough-color);
}

.ns-120 .mw-parser-output .template-colour,
.transcript .template-colour {
    text-shadow: 1px 1px #000a;
}


/* --- Interface Polish & Refinements --- */

/* Enhanced CDX Button States */
input[type='checkbox']:hover + .cdx-button.cdx-button--weight-quiet {
    background-color: rgba(0,24,73,0.02745098);
}

input[type='checkbox']:hover + .cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive,
input[type='checkbox']:hover + .cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive {
    background-color: rgba(0,24,73,0.02745098);
    color: var(--text-color);
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive:hover {
    background-color: rgba(0,24,73,0.02745098);
    color: var(--text-color);
}

input[type='checkbox']:active + .cdx-button.cdx-button--weight-quiet {
    background-color: rgba(0,36,73,0.08235294);
}

input[type='checkbox']:active + .cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive,
input[type='checkbox']:active + .cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive {
    background-color: rgba(0,36,73,0.08235294);
    color: var(--text-color);
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive:active {
    background-color: rgba(0,36,73,0.08235294);
    color: var(--text-color);
}

/* Enhanced Border Controls */
.cdx-button.cdx-button--weight-quiet:hover {
    color: var(--text-color);
    border-color: transparent;
}

.cdx-button.cdx-button--weight-quiet:active {
    color: var(--text-color);
    border-color: #72777d;
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive:hover {
    border-color: transparent;
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive:active {
    border-color: #72777d;
}

/* Advanced Table Handling */
table.wikitable td.no-cell-spacing table {
    height: calc(100% + 2px);
}

.table-na {
    vertical-align: middle;
    text-align: center;
}

.questdetails {
    width: 100%;
    border-collapse: separate;
}

/* Enhanced Inventory & Equipment Systems */
.menagerietable {
    width: 300px;
    height: 250px;
    padding: 56px 28px 34px 6px;
    border-spacing: 0;
}

.menagerietable td {
    position: relative;
    width: 46px;
    height: 32px;
}

.inventorytable .inv-quantity-text,
.lootingbagtable .inv-quantity-text {
    top: -8px;
    left: 4px;
    text-shadow: #000 1px 1px;
    color: #ff0;
}

/* Widget Enhancements */
.mw-widget-dateInputWidget-handle,
.mw-widgets-datetime-dateTimeInputWidget-handle {
    background-color: var(--ooui-input);
    color: var(--ooui-text);
}

/* Enhanced Tooltip Integration */
.js-tooltip-close {
    border: 0;
}

/* Scrollbar Integration */
.highcharts-scrollbar-track {
    fill: transparent;
}

/* ===== PHASE 7: ADVANCED CONTENT & GAMING INTEGRATION ===== */

/* Content Foundation Polish */
h1, h2 {
    border-color: var(--sidebar);
}

h3 {
    color: var(--text-color);
}

/* Enhanced Table Systems */
.wikitable > tr > td,
.wikitable > * > tr > td {
    border-color: var(--wikitable-border);
}

table.wikitable td.no-cell-spacing table {
    margin: -1px;
    width: calc(100% + 2px);
    height: calc(100% + 2px);
}

.table-na {
    background: var(--table-na-background);
    color: var(--table-na-color);
    vertical-align: middle;
    text-align: center;
}

/* Quest Details Enhancement */
.questdetails {
    background-color: var(--body-light);
    border: 1px solid var(--body-border);
    width: 100%;
    border-collapse: separate;
}

/* Updated Content Markers */
.updatedmarker {
    background-color: #c3e8a3;
    color: #162e02;
}

/* OSRS Gaming Features Integration */

/* Monster Manual Systems */
.mmg-xpline:after {
    content: ',';
}

.mmg-xpline:last-child:after {
    content: '';
}

/* Grand Exchange Market Watch (GEMW) */
.gemw-header.positive {
    border-color: var(--gemw-positive-color);
}

.gemw-header .gemw-price {
    display: inline-block;
    font-size: 2.75em;
    font-weight: bold;
}

.gemw-header .gemw-price::after {
    content: ' coins';
    color: var(--byline-color);
    font-size: 1rem;
    font-weight: normal;
    word-spacing: 0.25em;
}

.gemw-header .gemw-updated {
    color: var(--byline-color);
    line-height: 1.5em;
    margin-top: 0.25em;
}

.gemw-body .gemw-property {
    width: 30%;
    border-top: 0.15em dotted var(--body-mid);
    padding-top: 0.25em;
    margin-bottom: 1.5em;
}

.gemw-body .gemw-property dt {
    color: var(--byline-color);
    font-weight: normal;
}

.gemw-body .gemw-property dd {
    font-weight: bold;
    margin: -0.25em 0 0;
}

.gemw-container.gemw-historical .gemw-header.positive {
    border-color: var(--gemw-historical-border-color);
}

.gemw-container.gemw-historical .gemw-header .gemw-time .jsPurgeLink,
.gemw-container.gemw-historical .gemw-header .gemw-time > span.plainlinks {
    display: none;
}

/* GE Chart Systems */
#GEchartpopup {
    background: var(--ooui-interface);
    border: 1px solid var(--ooui-interface-border);
    border-radius: 2px;
    color: var(--ooui-text);
    position: fixed;
    left: 0;
    right: 0;
    top: 1em;
    bottom: 1em;
    margin: auto;
    padding: 1em;
    max-width: 975px;
    z-index: 450;
    overflow: auto;
}

#GEchartpopup #closepopup {
    float: right;
    margin-bottom: 5px;
    z-index: 100;
}

#GEpopupchart {
    height: 500px;
}

.GEPermLink {
    float: right;
    font-size: 14px;
}

.GEPermLink ~ .GEdatachart {
    clear: right;
}

#GEchartpopup g.highcharts-label text > a:visited {
    fill: white;
}

/* Chart Refinements */
.smallChart svg > text:first-of-type,
.smallChart .highcharts-input-group {
    display: none;
}

.highcharts-plot-background {
    fill: transparent;
}

.highcharts-range-selector-group text {
    color: var(--ooui-text) !important;
    fill: var(--ooui-text) !important;
}

.highcharts-scrollbar-track {
    stroke: var(--ooui-interface-border);
}

/* Interactive Component Systems */

/* CDX Button State Enhancements */
.cdx-button.cdx-button--weight-quiet:hover {
    background-color: rgba(0,24,73,0.02745098);
    color: var(--text-color);
    border-color: transparent;
}

.cdx-button.cdx-button--weight-quiet:active {
    background-color: rgba(0,36,73,0.08235294);
    color: var(--text-color);
    border-color: #72777d;
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive:hover {
    background-color: rgba(0,24,73,0.02745098);
    color: var(--text-color);
    border-color: transparent;
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive:active {
    background-color: rgba(0,36,73,0.08235294);
    color: var(--text-color);
    border-color: #72777d;
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive:hover {
    background-color: rgba(0,24,73,0.02745098);
    color: var(--text-color);
    border-color: transparent;
}

.cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive:active {
    background-color: rgba(0,36,73,0.08235294);
    color: var(--text-color);
    border-color: #72777d;
}

/* Enhanced Checkbox + Button Combinations */
input[type='checkbox']:hover + .cdx-button.cdx-button--weight-quiet {
    background-color: rgba(0,24,73,0.02745098);
    color: var(--text-color);
    border-color: transparent;
}

input[type='checkbox']:hover + .cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive,
input[type='checkbox']:hover + .cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive {
    background-color: rgba(0,24,73,0.02745098);
    color: var(--text-color);
    border-color: transparent;
}

input[type='checkbox']:active + .cdx-button.cdx-button--weight-quiet {
    background-color: rgba(0,36,73,0.08235294);
    color: var(--text-color);
    border-color: #72777d;
}

input[type='checkbox']:active + .cdx-button.cdx-button--weight-quiet.cdx-button--action-progressive,
input[type='checkbox']:active + .cdx-button.cdx-button--weight-quiet.cdx-button--action-destructive {
    background-color: rgba(0,36,73,0.08235294);
    color: var(--text-color);
    border-color: #72777d;
}

/* Enhanced Tooltip Systems */
.js-tooltip-close {
    float: right;
    margin-left: 10px;
    margin-right: -5px;
    margin-top: -5px;
    margin-bottom: 1px;
    background: var(--button-background);
    cursor: pointer;
    border: 0;
}

/* Enhanced Form & Widget Systems */
.mw-widget-dateInputWidget-handle,
.mw-widgets-datetime-dateTimeInputWidget-handle {
    background-color: var(--ooui-input);
    color: var(--ooui-text);
    border-color: var(--ooui-input-border);
}

/* Enhanced Inventory Systems */
.menagerietable {
    background-image: url(/images/Menagerie_interface.png?89434);
    background-repeat: no-repeat;
    background-position: top left;
    width: 300px;
    height: 250px;
    padding: 56px 28px 34px 6px;
    border-spacing: 0;
}

.menagerietable td {
    position: relative;
    width: 46px;
    height: 32px;
    padding: 0;
    border: 0;
    text-align: center;
}

.inventorytable .inv-quantity-text,
.lootingbagtable .inv-quantity-text {
    font-family: 'RuneScape Small';
    font-size: 12pt;
    position: absolute;
    pointer-events: none;
    top: -8px;
    left: 4px;
    text-shadow: #000 1px 1px;
    color: #ff0;
}

/* Advanced MediaWiki Features */

/* Recent Changes & Edit Monitoring */
.mw-plusminus-pos {
    color: var(--rc-positive-color);
}

.mw-plusminus-neg {
    color: var(--rc-negative-color);
}

/* Recent Changes Filters */
.client-js .mw-recentchanges-toplinks:not(.mw-recentchanges-toplinks-collapsed) {
    border-color: var(--body-border);
    background-color: var(--body-light);
    border-radius: 2px;
}

.mw-rcfilters-ui-filterTagMultiselectWidget-wrapper-content-title {
    color: var(--text-color);
}

.mw-rcfilters-ui-filterTagMultiselectWidget-emptyFilters {
    color: var(--byline-color);
}

.mw-rcfilters-collapsed .mw-rcfilters-ui-filterTagMultiselectWidget {
    border-bottom-color: var(--ooui-interface-border);
}

.mw-rcfilters-ui-tagItemWidget-popup-content {
    color: var(--ooui-text);
}

.mw-rcfilters-ui-changesListWrapperWidget-previousChangesIndicator,
.mw-rcfilters-ui-watchlistTopSectionWidget-separator {
    border-color: var(--sidebar);
}

.mw-rcfilters-ui-itemMenuOptionWidget-header {
    border-bottom-color: var(--ooui-interface);
    background-color: var(--ooui-interface-border);
}

.mw-rcfilters-ui-itemMenuOptionWidget:not(:last-child):not(.mw-rcfilters-ui-itemMenuOptionWidget-identifier-talk) {
    border-bottom-color: var(--ooui-normal-border);
}

.mw-rcfilters-ui-itemMenuOptionWidget-label-title,
.mw-rcfilters-ui-itemMenuOptionWidget-label-desc {
    color: var(--text-color);
}

.mw-rcfilters-ui-filterMenuSectionOptionWidget {
    background-color: var(--body-mid);
}

.mw-rcfilters-ui-itemMenuOptionWidget-view-namespaces {
    border-top-color: var(--ooui-interface-border);
}

.mw-rcfilters-ui-datePopupWidget {
    border-color: var(--ooui-interface-border);
}

.mw-rcfilters-ui-datePopupWidget .mw-rcfilters-ui-valuePickerWidget-title {
    color: var(--byline-color);
}

/* Enhanced Change Lists */
.client-js .mw-changeslist.mw-rcfilters-ui-changesListWrapperWidget-highlighted ul,
.client-js .mw-changeslist.mw-rcfilters-ui-changesListWrapperWidget-highlighted table.mw-enhanced-rc {
    margin-left: 1.5em;
}

/* SMW (Semantic MediaWiki) Enhancements */
.smwpre {
    border-color: var(--body-border);
}

.smw-ask-printhead fieldset,
.smw-ask-options fieldset {
    border-color: var(--sidebar);
}

.strike > span:before,
.strike > span:after {
    background: var(--sidebar);
}

.smw-ask-toplinks span.smw-icon-info::before {
    padding: 0 0 3px 18px;
}

.smw-ask-button-submit input {
    border-color: var(--ooui-normal-border);
}

input.smw-ask-action-btn.smw-ask-action-btn-dblue {
    background-color: var(--ooui-normal);
    border-color: var(--ooui-normal-border);
    color: var(--ooui-text);
}

.smw-tabs input.nav-tab:checked + label.nav-label {
    border-color: var(--ooui-normal-border);
}

.smw-property-page-results .header-title {
    border-color: var(--ooui-interface-border);
}

.smw-ui-input-filter {
    border-color: var(--ooui-interface-border);
}

.smw-ui-input-filter input {
    border-left-color: var(--ooui-interface-border) !important;
}

.smw-ui-pagination .page-link.link-disabled {
    border-color: var(--ooui-disabled-border);
}

.smw-ui-pagination .page-link {
    border-color: var(--ooui-normal-border);
}

#bodyContent span.smwbrowse a {
    color: black;
    background-image: url(/images/Smwbrowse.svg?87d2b);
}

#bodyContent span.smwbrowse a:hover {
    color: black;
    background-image: url(/images/Smwbrowse-hover.svg?73b79);
}

#bodyContent span.smwsearch a {
    color: black;
    background-image: url(/images/Smwsearch.svg?72b04);
}

#bodyContent span.smwsearch a:hover {
    color: black;
    background-image: url(/images/Smwsearch-hover.svg?62df0);
}

/* Preferences & Settings */
#preferences .mw-htmlform-submit-buttons {
    background-color: var(--body-main);
    border-top-color: var(--body-border);
}

.mw-prefs-search-highlight {
    background: var(--body-mid) !important;
    outline-color: var(--body-mid) !important;
}

/* Search System Enhancements */
.mw-search-profile-tabs {
    background-color: var(--body-mid);
    border-color: transparent;
}

.search-types .current a {
    color: inherit;
}

.mw-body-content .mw-number-text h3 {
    color: var(--text-color);
}

/* Special Page Enhancements */
.page-Special_CreateAccount .mw-ui-container,
.page-Special_UserLogin .mw-ui-container {
    max-width: 64rem;
    margin: 0 auto;
}

.page-Special_ListFiles a.mw-file-description img {
    width: inherit;
    height: inherit;
}

.page-Special_ListFiles .TablePager_col_thumb {
    text-align: center;
}

.mw-protectedpages-unknown {
    color: var(--byline-color);
}

.allpagesredirect {
    font-style: italic;
}

.allpagesredirect:after {
    color: var(--byline-color);
    content: " (redirect)";
}

/* API & Development Tools */
.mw-apisandbox-toolbar {
    background: var(--body-main);
}

/* File Upload Systems */
span.fileinput-button {
    background-color: var(--ooui-normal);
    border-color: var(--ooui-normal-border);
    color: var(--ooui-text);
}

ul.fileupload-results li.ful-success {
    background-color: var(--successbox-bg);
}

ul.fileupload-results li.ful-success a {
    color: var(--link-color);
}

ul.fileupload-results li.ful-error {
    background-color: var(--errorbox-bg);
}

/* Notification Systems */
.mw-dismissable-notice-close-parent {
    min-height: 1em;
}

/* Edit Interface */
.editOptions {
    color: var(--text-color);
    background-color: var(--sourceeditor-background-secondary);
    border-color: var(--sourceeditor-border);
}

/* Redirect & Navigation */
.mw-content-ltr .redirectText li:first-child::before {
    content: '';
    background: currentcolor;
    -webkit-mask: url(/images/Redirect-arrow.svg?d4dde) no-repeat 50% 50% / contain;
    mask: url(/images/Redirect-arrow.svg?d4dde) no-repeat 50% 50% / contain;
}

/* Map & Kartographer Integration */
.mw-kartographer-mapDialog-foot {
    border-color: var(--body-mid);
}

.mw-kartographer-interactive .leaflet-popup-content a:visited {
    color: var(--link-color);
}

.mw-kartographer-interactive .leaflet-popup-content a.new a.new:visited {
    color: var(--redlink-color);
}

.mw-kartographer-interactive {
    --background-color-interactive-subtle: #f8f9fa;
    --color-base: #202122;
    --color-base--hover: #404244;
    --border-color-base: #a2a9b1;
    --background-color-base: #fff;
}

/* Content Collapsing */
.collapsed-sec {
    text-shadow: 1px 1px #fff;
}

/* Production Selection */
.production-selected {
    background: var(--production-selected-background);
    color: var(--production-selected-color);
}

/* Polls & Community Features */
.pollbox {
    width: 700px;
}

/* Message Boxes */
.messagebox {
    width: 65%;
    border-left: 15px solid;
    border-color: var(--body-dark);
    background-color: var(--body-light);
}

/* Typography */
.font-runescape {
    font-family: 'RuneScape';
}

/* Print & Permalink (Hidden on Mobile) */
#t-print,
#t-permalink {
    display: none;
}

/* ===== PHASE 8: CONTENT-HIGH COMPLETION & 70% MILESTONE ===== */

/* Content-High Missing Selectors */

/* User Role Color Coding */
a[href="/w/User:Data_Chompy"],
a[href="/w/User:Spinewielder"],
a[href="/w/User:BotDiesel2m"] {
    color: var(--awb-purple);
}

a[href="/w/User:Cook_Me_Plox"],
a[href="/w/User:Legaia_2_Pla"] {
    color: var(--admin-blue);
}

a[href="/w/User:Spineweilder"] {
    color: var(--bearcat-green);
}

/* Jagex Moderator Emblems */
a[href="/w/User:Jimwip"],
a[href="/w/User:JagexPebble"] {
    background: url(/images/Jagex_moderator_emblem.png?093b0) left no-repeat;
    padding-left: 15px;
}

/* Echo Notification System UI */
.mw-echo-ui-notificationsInboxWidget-toolbarWrapper {
    background: var(--body-main);
}

.mw-body-content .mw-echo-ui-datedSubGroupListWidget-title-secondary {
    color: var(--byline-color);
}

.mw-echo-ui-crossWikiNotificationItemWidget-group,
.mw-echo-ui-bundleNotificationItemWidget-group {
    background-color: var(--body-main);
}

.mw-echo-ui-notificationItemWidget-content-actions-timestamp {
    color: var(--ooui-text);
}

/* Content-High Incomplete Selector Completions */

/* Header Enhancements */
h1, h2 {
    border-color: var(--sidebar);
}

h3 {
    color: var(--text-color);
}

/* Redirect Arrow Enhancements */
.mw-content-ltr .redirectText li:first-child::before {
    content: '';
    background: currentcolor;
    -webkit-mask: url(/images/Redirect-arrow.svg?d4dde) no-repeat 50% 50% / contain;
    mask: url(/images/Redirect-arrow.svg?d4dde) no-repeat 50% 50% / contain;
    display: inline-block;
    width: 47px;
    height: 20px;
}

/* WikiTable Border Completions */
.wikitable > tr > td,
.wikitable > * > tr > td {
    border-color: var(--wikitable-border);
}

/* SMW (Semantic MediaWiki) Completions */
.smwpre {
    border-color: var(--body-border);
    color: var(--text-color);
    background-color: var(--body-light);
}

.smw-ask-toplinks span.smw-icon-info::before {
    padding: 0 0 3px 18px;
    content: '';
    background: var(--text-color);
    -webkit-mask: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20'%3E%3Ctitle%3Einfo%3C/title%3E%3Cpath d='M10 0C4.477 0 0 4.477 0 10s4.477 10 10 10 10-4.477 10-10S15.523 0 10 0zM9 5h2v2H9zm0 4h2v6H9z'/%3E%3C/svg%3E") no-repeat 50% 50% / contain;
    mask: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20'%3E%3Ctitle%3Einfo%3C/title%3E%3Cpath d='M10 0C4.477 0 0 4.477 0 10s4.477 10 10 10 10-4.477 10-10S15.523 0 10 0zM9 5h2v2H9zm0 4h2v6H9z'/%3E%3C/svg%3E") no-repeat 50% 50% / contain;
}

.smw-ask-button-submit input {
    border-color: var(--ooui-normal-border);
    background-color: var(--ooui-normal);
    color: var(--text-color);
}

.smw-property-page-results .header-title {
    border-color: var(--ooui-interface-border);
    background-color: var(--ooui-interface);
    color: var(--ooui-text);
}

.tippy-header {
    background-color: var(--body-mid);
    border-bottom-color: var(--body-mid);
}

.smw-ui-input-filter {
    border-color: var(--ooui-interface-border);
    background-color: var(--ooui-interface);
    color: var(--ooui-text);
}

.smw-ui-input-filter input {
    border-left-color: var(--ooui-interface-border) !important;
    color: var(--ooui-text) !important;
}

.smw-ui-pagination .page-link.link-disabled {
    border-color: var(--ooui-disabled-border);
    color: var(--ooui-disabled-text);
    background-color: var(--ooui-disabled);
}

.smw-ui-pagination .page-link {
    border-color: var(--ooui-normal-border);
    background-color: var(--ooui-normal);
    color: var(--link-color);
}

#bodyContent span.smwbrowse a {
    color: black;
    background-image: url(/images/Smwbrowse.svg?87d2b);
    filter: var(--filter-black-to-link);
}

#bodyContent span.smwbrowse a:hover {
    color: black;
    background-image: url(/images/Smwbrowse-hover.svg?73b79);
    text-decoration: underline;
}

#bodyContent span.smwsearch a {
    color: black;
    background-image: url(/images/Smwsearch.svg?72b04);
    filter: var(--filter-black-to-link);
}

#bodyContent span.smwsearch a:hover {
    color: black;
    background-image: url(/images/Smwsearch-hover.svg?62df0);
    text-decoration: underline;
}

/* Map & Component Completions */
.mw-kartographer-mapDialog-foot {
    border-color: var(--body-mid);
    background-color: var(--body-light);
}

.collapsed-sec {
    text-shadow: 1px 1px #fff;
    font-family: 'PT Serif','Palatino','Georgia',serif;
    font-weight: bold;
}

/* Pollbox Enhanced Styling */
.pollbox {
    width: 700px;
    position: relative;
    padding: 1em 0.7em;
    margin: 0.7em;
    margin-bottom: 1.2em;
    font-size: 16px;
}

/* Interactive Systems Polish */

/* Echo Toggle Button Systems */
.mw-echo-ui-toggleReadCircleButtonWidget-circle {
    background-color: var(--ooui-progressive);
}

.mw-echo-ui-toggleReadCircleButtonWidget-circle-unread {
    background-color: var(--ooui-normal--hover);
    border-color: var(--ooui-normal-border);
}

.mw-echo-ui-toggleReadCircleButtonWidget:hover .mw-echo-ui-toggleReadCircleButtonWidget-circle {
    background-color: var(--ooui-progressive--hover);
}

.mw-echo-ui-toggleReadCircleButtonWidget:hover .mw-echo-ui-toggleReadCircleButtonWidget-circle-unread {
    background-color: var(--ooui-normal);
}

/* Mobile-Relevant UI Chrome */

/* Footer System */
.mw-footer {
    color: var(--background-text-color);
}

.mw-footer li {
    color: var(--background-text-color);
}

.mw-footer a,
.mw-footer a:active,
.mw-footer a:visited {
    color: var(--background-link-color);
}

/* Search Enhancement */
.vector-search-box .cdx-menu-item__content {
    background: none;
}

/* Strategic Other Category Selections for 70%+ Milestone */

/* Mobile-Optimized Content Presentation */
.mw-body-content .mw-collapsible-content {
    overflow: hidden;
}

.mw-body-content .mw-collapsible.mw-collapsed .mw-collapsible-content {
    display: none;
}

.mw-body-content .mw-collapsible-toggle {
    cursor: pointer;
    color: var(--link-color);
    text-decoration: none;
}

.mw-body-content .mw-collapsible-toggle:hover {
    text-decoration: underline;
}

/* Enhanced Navigation */
.mw-body-content .mw-jump-link {
    position: absolute;
    left: -9999px;
    top: -9999px;
    width: 1px;
    height: 1px;
    overflow: hidden;
}

.mw-body-content .mw-jump-link:focus {
    position: static;
    width: auto;
    height: auto;
    left: auto;
    top: auto;
    overflow: visible;
    background: var(--body-light);
    padding: 0.5em;
    border: 1px solid var(--body-border);
}

/* Mobile Typography Enhancements */
.mw-body-content .mw-headline {
    font-weight: bold;
}

.mw-body-content .mw-editsection {
    font-weight: normal;
    font-size: 0.8em;
    margin-left: 0.5em;
}

.mw-body-content .mw-editsection-bracket {
    color: var(--byline-color);
}

/* Content Organization */
.mw-body-content .mw-toc-hidden {
    display: none;
}

.mw-body-content .toc {
    background: var(--body-light);
    border: 1px solid var(--body-border);
    padding: 1em;
    margin: 1em 0;
}

.mw-body-content .toc h2 {
    font-size: 1.2em;
    margin: 0 0 0.5em;
    border: none;
    color: var(--text-color);
}

.mw-body-content .toc ul {
    list-style: none;
    margin: 0;
    padding: 0;
}

.mw-body-content .toc li {
    margin: 0.2em 0;
}

.mw-body-content .toc a {
    color: var(--link-color);
    text-decoration: none;
}

.mw-body-content .toc a:hover {
    text-decoration: underline;
}

/* Mobile-Friendly Images */
.mw-body-content .thumb {
    margin: 0.5em 0;
}

.mw-body-content .thumbinner {
    background: var(--thumb-bg);
    border: 1px solid var(--body-border);
    padding: 3px;
    text-align: center;
}

.mw-body-content .thumbcaption {
    font-size: 0.9em;
    color: var(--byline-color);
    margin-top: 0.5em;
    text-align: left;
    line-height: 1.4em;
}

.mw-body-content .magnify {
    display: none; /* Hide magnify on mobile */
}

/* Enhanced Lists */
.mw-body-content .hlist {
    margin: 0;
}

.mw-body-content .hlist li {
    display: inline-block;
    margin: 0;
}

.mw-body-content .hlist li:after {
    content: " Â· ";
    color: var(--byline-color);
}

.mw-body-content .hlist li:last-child:after {
    content: "";
}

/* Mobile-Optimized References */
.mw-body-content .references {
    font-size: 0.9em;
    color: var(--text-color);
}

.mw-body-content .references li {
    margin-bottom: 0.3em;
}

.mw-body-content .reference {
    font-size: 0.8em;
    vertical-align: super;
    line-height: 1;
}

.mw-body-content .reference a {
    color: var(--link-color);
    text-decoration: none;
}

/* Enhanced Code Blocks */
.mw-body-content .mw-code {
    background: var(--mw-code-background-color);
    border: 1px solid var(--body-border);
    padding: 2px 4px;
    font-family: monospace;
    font-size: 0.9em;
}

.mw-body-content pre {
    background: var(--mw-code-background-color);
    border: 1px solid var(--body-border);
    padding: 1em;
    overflow-x: auto;
    font-size: 0.9em;
    line-height: 1.3em;
}

/* Mobile Categories */
.mw-body-content .catlinks {
    background: var(--body-light);
    border: 1px solid var(--body-border);
    padding: 0.5em;
    margin-top: 1em;
    font-size: 0.9em;
}

.mw-body-content .mw-normal-catlinks {
    margin: 0;
}

.mw-body-content .mw-normal-catlinks a {
    color: var(--link-color);
    text-decoration: none;
}

.mw-body-content .mw-normal-catlinks a:hover {
    text-decoration: underline;
}

/* Performance & Accessibility */
.mw-body-content .mw-parser-output {
    word-wrap: break-word;
    overflow-wrap: break-word;
}

.mw-body-content .nowrap {
    white-space: nowrap;
}

.mw-body-content .nowraplinks a {
    white-space: nowrap;
}

/* Mobile-Friendly Tables */
.mw-body-content .wikitable {
    font-size: 0.9em;
    line-height: 1.3em;
}

.mw-body-content .wikitable th {
    font-weight: bold;
    text-align: center;
}

.mw-body-content .wikitable td {
    padding: 0.3em 0.5em;
}

.mw-body-content .wikitable caption {
    font-weight: bold;
    padding: 0.5em;
    background: var(--wikitable-header-bg);
    color: var(--text-color);
}

/* Enhanced Headings */
.mw-body-content h1,
.mw-body-content h2,
.mw-body-content h3,
.mw-body-content h4,
.mw-body-content h5,
.mw-body-content h6 {
    font-family: inherit;
    line-height: 1.3;
    margin: 1em 0 0.5em;
    padding: 0;
    font-weight: bold;
}

.mw-body-content h1 {
    font-size: 1.8em;
    border-bottom: 2px solid var(--sidebar);
    padding-bottom: 0.2em;
}

.mw-body-content h2 {
    font-size: 1.5em;
    border-bottom: 1px solid var(--sidebar);
    padding-bottom: 0.2em;
}

.mw-body-content h3 {
    font-size: 1.3em;
}

.mw-body-content h4 {
    font-size: 1.1em;
}

.mw-body-content h5,
.mw-body-content h6 {
    font-size: 1em;
}

/* Mobile Text Formatting */
.mw-body-content strong,
.mw-body-content b {
    font-weight: bold;
}

.mw-body-content em,
.mw-body-content i {
    font-style: italic;
}

.mw-body-content small {
    font-size: 0.85em;
    color: var(--byline-color);
}

.mw-body-content sub,
.mw-body-content sup {
    font-size: 0.75em;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

.mw-body-content sup {
    top: -0.5em;
}

.mw-body-content sub {
    bottom: -0.25em;
}

/* ================================= */
/* PHASE 9A: Content-High Polish    */
/* ================================= */

/* Heading Border & Color Completion */
h1 {
    border-color: var(--sidebar);
}

h2 {
    border-color: var(--sidebar);
}

h3 {
    color: var(--text-color);
}

/* Typography Enhancement - PT Serif Font Family */
.mw-body-content h1 {
    font-family: 'PT Serif','Palatino','Georgia',serif;
}

.mw-body-content h2 {
    font-family: 'PT Serif','Palatino','Georgia',serif;
}

.mw-body-content h3 {
    font-family: 'PT Serif','Palatino','Georgia',serif;
}

/* Wikitable Border Consistency */
.wikitable > tr > td {
    border-color: var(--wikitable-border);
}

.wikitable > * > tr > td {
    border-color: var(--wikitable-border);
}

/* Tooltip System Polish */
.tippy-header {
    background-color: var(--body-dark);
    border-bottom-color: var(--body-mid);
}

/* Poll Box Styling */
.pollbox {
    border: 2px solid var(--body-border);
    background: var(--body-light);
    position: relative;
    padding: 1em 0.7em;
    margin: 0.7em;
    margin-bottom: 1.2em;
    width: 700px;
    font-size: 16px;
}

/* Message Box Polish */
.messagebox {
    width: 65%;
    border-left: 15px solid;
    border-color: var(--body-dark);
    background-color: var(--body-light);
}

/* RuneScape Font Family Support */
.font-runescape {
    font-family: 'RuneScape';
}

/* Content-Medium Polish */
.highcharts-scrollbar-track {
    fill: transparent;
    stroke: transparent;
}

/* Other Category Incomplete Selectors Polish */

/* Additional Heading Colors */
h4, h5, h6 {
    color: var(--text-color);
}

/* MediaWiki Heading Classes Border Fix */
.mw-heading1, .mw-heading2 {
    border-color: var(--sidebar);
}

/* Extended Typography - PT Serif for All Headings */
.mw-body .mw-heading1,
.mw-body-content .mw-heading1,
.mw-body-content .mw-heading2,
.mw-body-content .mw-heading3,
.mw-body-content h4,
.mw-body-content h5,
.mw-body-content h6 {
    font-family: 'PT Serif','Palatino','Georgia',serif;
}

/* Link States Fix */
a:visited {
    color: var(--link-color);
}

/* Chart Error Styling */
.rsw-chartjs.rsw-chart-error {
    font-family: monospace;
}

/* SMW Callout Warning Border Fix */
.smw-callout-warning {
    border-color: var(--warningbox-bg);
    background-color: var(--warningbox-bg);
}

/* Reference Target Background Enhancement */
ol.references li:target {
    background-color: var(--body-light);
}

/* ============================================= */
/* PHASE 9B: Strategic Mobile-Relevant Selectors */
/* ============================================= */

/* Core MediaWiki Body Styling */
.mw-body {
    background-color: var(--body-main);
    color: var(--text-color);
    border-color: transparent;
    box-shadow: 0 0 7px rgba(0,0,0,0.15);
    margin-top: 0;
}

.mw-heading {
    color: var(--text-color);
}

/* Extended Heading Typography */
.mw-body-content .mw-heading4,
.mw-body-content .mw-heading5,
.mw-body-content .mw-heading6 {
    font-family: 'PT Serif','Palatino','Georgia',serif;
}

/* Citation Styling */
cite {
    font-style: inherit;
}

/* Link States Enhancement */
a:active {
    color: var(--link-color);
}

/* Category Links */
.catlinks {
    background: var(--body-light);
    border: 1px solid var(--body-dark);
    padding: 8px 15px;
    box-shadow: 0 0.25rem 0.35rem -0.25rem rgba(0,0,0,0.1);
}

.catlinks li {
    border-color: var(--body-mid);
}

/* Syntax Highlighting */
.mw-highlight {
    background: none;
}

.mw-highlight .linenos {
    color: var(--byline-color);
}

.mw-highlight a:hover .linenos,
.mw-highlight .hll a .linenos {
    color: var(--text-color);
}

/* Auto-comments */
.autocomment,
.autocomment a,
.autocomment a:visited {
    color: var(--link-color);
}

/* Sticky Header Target Offset */
body.wgl-stickyheader.action-view .mw-headline:target::before {
    display: block;
    content: '';
    margin-top: -3rem;
    height: 3rem;
    visibility: hidden;
    pointer-events: none;
}

/* Revision Slider */
.mw-revslider-container {
    border-color: var(--sidebar);
}

/* Diff Styling */
.diff-context {
    border-color: var(--diff-context-border-color);
    background: var(--diff-context-background);
    color: inherit;
}

.diff-addedline {
    border-color: var(--diff-addedline-border-color);
}

.diff-addedline .diffchange {
    background: var(--diff-addedline-background);
    color: var(--diff-addedline-color);
}

.diff-deletedline {
    border-color: var(--diff-deletedline-border-color);
}

.diff-deletedline .diffchange {
    background: var(--diff-deletedline-background);
    color: var(--diff-deletedline-color);
}

/* Inline Diff Styling */
.mw-inline-diff-newline::after {
    background: var(--diff-inline-deletedline);
    color: var(--byline-color);
}

.mw-diff-inline-added ins,
.mw-diff-inline-changed ins,
.mw-diff-inline-moved ins {
    background: var(--diff-addedline-background);
}

.mw-diff-inline-deleted del,
.mw-diff-inline-changed del,
.mw-diff-inline-moved del {
    background: var(--diff-inline-deletedline);
}

/* SMW Components */
.smw-column-header {
    color: var(--text-color);
}

/* Tabber Interface */
ul.tabbernav {
    border: none;
    margin-left: 2em;
    margin-bottom: 0;
    margin-right: 2em;
    padding: 0;
    font-family: inherit;
}

ul.tabbernav li.tabberactive > a {
    background-color: var(--tabber-active-tab-bg);
    color: var(--tabber-active-tab-color);
    border-bottom: none;
    position: relative;
}

ul.tabbernav li.tabberactive > a:hover {
    color: var(--tabber-active-tab-hover-color);
    background-color: var(--tabber-active-tab-hover-bg);
    border-color: var(--tabber-active-tab-hover-border-color);
    border-bottom: none;
}

ul.tabbernav li.tabberactive > a::after {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 2px solid var(--tabber-active-tab-border-hider-color);
}

ul.tabbernav li a {
    background-color: var(--tabber-inactive-tab-bg);
    border-bottom: transparent;
    border-color: var(--tabber-inactive-tab-border-color);
    color: var(--tabber-inactive-tab-color);
    display: inline-block;
    font-size: 110%;
    padding: 0.5em 1em;
}

ul.tabbernav li a:hover {
    background-color: var(--tabber-inactive-tab-hover-bg);
    border-color: var(--tabber-inactive-tab-hover-border-color);
}

ul.tabbernav li a:link,
ul.tabbernav li a:visited {
    color: var(--tabber-inactive-tab-color);
}

/* Archive Lists */
.archivelist {
    background-color: var(--body-light);
    border: solid 1px var(--body-border);
    box-shadow: 0 0.25rem 0.35rem -0.25rem rgba(0,0,0,0.1);
    float: right;
    margin: 5px;
    padding: 5px;
    text-align: center;
    width: 120px;
}

/* External Images */
.extimage div {
    width: inherit;
    height: inherit;
}

/* Documentation */
.documentation code {
    background-color: var(--documentation-background);
    border-color: var(--documentation-border);
}

.documentation-subheader a:visited,
.documentation-subheader a:active {
    color: var(--documentation-link-color);
}

.documentation-links {
    font-size: 0.85em;
}

/* Fairy Code Styling */
.fairycode {
    font-family: 'PT Serif','Palatino','Georgia',serif;
    font-size: 120%;
    font-weight: bold;
    text-transform: lowercase;
    letter-spacing: 1px;
}

.fairycode b ~ b:before {
    content: "â€¢";
}

/* Tile & Byline Styling */
.tile.dark .byline {
    color: var(--tile-dark-byline-color);
}

.byline {
    font-size: 0.9em;
    color: var(--byline-color);
}

.byline a {
    color: var(--byline-color);
}

/* ============================================== */
/* PHASE 10B: High-Impact Mobile Selectors       */
/* ============================================== */

/* User Interface Enhancements */
a.new,
a.new:visited {
    color: var(--redlink-color) !important;
}

.mw-message-box {
    border: 1px solid var(--body-border);
    background-color: var(--body-light);
    padding: 0.5em 1em;
    margin: 0.5em 0;
}

.usermessage {
    background-color: var(--messagebox-warn-background);
    border: 1px solid var(--messagebox-warn-border);
    color: var(--messagebox-warn-color);
    padding: 5px;
    margin: 5px 0;
}

/* Media Viewer Enhancements */
.filehistory a img {
    border: 1px solid var(--body-border);
}

#file img {
    max-width: 100%;
    height: auto;
}

#file img:hover {
    cursor: pointer;
}

.mw-mmv-image-metadata {
    background: var(--body-light);
    border: 1px solid var(--body-border);
    padding: 1em;
}

.mw-mmv-dialog {
    background: var(--body-main);
    border: 1px solid var(--body-border);
}

.mw-mmv-dialog .mw-mmv-dialog-down-arrow {
    border-top-color: var(--body-border);
}

/* Notification System */
.mw-notification {
    background: var(--body-light);
    border: 1px solid var(--body-border);
    border-left: 4px solid var(--ooui-progressive);
    padding: 0.8em;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

/* SMW Search Interface Basics */
.smw-ask-condition fieldset,
.smw-ask-search fieldset {
    border: 1px solid var(--body-border);
    background: var(--body-light);
    padding: 1em;
}

.smw-ask-action-btn.smw-ask-action-btn-lblue {
    background-color: var(--ooui-progressive);
    color: #fff;
    border: 1px solid var(--ooui-progressive);
    padding: 0.5em 1em;
}

.smw-ask-action-btn.smw-ask-action-btn-lblue:hover,
.smw-ask-action-btn.smw-ask-action-btn-lblue:visited {
    background-color: var(--ooui-progressive--hover);
    border-color: var(--ooui-progressive--hover);
    color: #fff;
}

/* ============================================== */
/* PHASE 10C: Strategic Enhancement Beyond 75%   */
/* ============================================== */

/* Charts & Data Visualization */
.rsw-chartjs.rsw-chartjs-config {
    background: var(--body-light);
    border: 1px solid var(--body-border);
    padding: 1em;
}

.rsw-chartjs-canvas {
    max-width: 100%;
    height: auto;
}

/* Extended SMW Components */
.smw-ask-action-btn.smw-ask-action-btn-dblue {
    background-color: var(--ooui-accent);
    color: #fff;
    border: 1px solid var(--ooui-accent);
    padding: 0.5em 1em;
}

.smw-ask-action-btn.smw-ask-action-btn-dblue:hover {
    opacity: 0.8;
}

.smw-callout-info {
    background-color: var(--messagebox-info-background);
    border: 1px solid var(--messagebox-info-border);
    color: var(--messagebox-info-color);
    padding: 0.5em 1em;
    margin: 0.5em 0;
}

.smw-callout-success {
    background-color: var(--messagebox-safe-background);
    border: 1px solid var(--messagebox-safe-border);
    color: var(--messagebox-safe-color);
    padding: 0.5em 1em;
    margin: 0.5em 0;
}

/* SMW Tabs System */
.smw-tabs section {
    background: var(--body-light);
    border: 1px solid var(--body-border);
    padding: 1em;
}

.smw-tabs .subtab-content {
    background: var(--wikitable-bg);
    padding: 0.5em;
}

/* SMW Factbox */
.smw-factbox {
    background: var(--body-light);
    border: 1px solid var(--body-border);
    padding: 1em;
    margin: 1em 0;
}

/* Enhanced Content Presentation */
.mw-content-container {
    background: var(--body-main);
}

.mw-content-text {
    color: var(--text-color);
    line-height: 1.6;
}

/* Table Enhancement */
.wikitable.sortable th {
    cursor: pointer;
    position: relative;
}

.wikitable.sortable th:hover {
    background-color: var(--wikitable-header-bg);
}

/* Code Blocks */
pre.mw-code {
    background: var(--mw-code-background-color);
    border: 1px solid var(--body-border);
    padding: 1em;
    overflow-x: auto;
}

/* Enhanced Links */
.mw-parser-output a.external {
    background-image: var(--external-icon);
    background-repeat: no-repeat;
    background-position: right center;
    padding-right: 15px;
}

/* List Enhancements */
.mw-parser-output ul {
    list-style-image: var(--ul-list-style-image);
}

/* Mobile Responsiveness */
@media (max-width: 768px) {
    .pollbox {
        width: 100%;
        max-width: 100%;
        margin: 0.5em 0;
        padding: 0.8em;
        font-size: 14px;
    }
    
    .mw-mmv-image-metadata {
        padding: 0.5em;
    }
    
    .smw-factbox {
        margin: 0.5em 0;
        padding: 0.8em;
    }
}

/* ================================================ */
/* PHASE 11A: Content-High Incomplete Fixes        */
/* ================================================ */

/* External Link Color Fix - Override duplicate implementations */
.mw-parser-output a.external {
    color: var(--link-color);
    background-image: var(--external-icon);
    background-repeat: no-repeat;
    background-position: right center;
    padding-right: 15px;
}

/* Message Box Complete Fix - Override all duplicates */
.messagebox {
    width: 65% !important;
    border-left: 15px solid var(--body-dark) !important;
    border-color: var(--body-dark) !important;
    background-color: var(--body-light) !important;
    padding: 8px 12px;
    margin: 8px 0;
}

/* RuneScape Font Family Complete Fix */
.font-runescape {
    font-family: 'RuneScape' !important;
}

/* Wikitable Border Fixes - Ensure they take effect */
.wikitable > tr > td,
.wikitable > * > tr > td {
    border-color: var(--wikitable-border) !important;
}

/* Heading Border & Color Fixes - Ensure they take effect */
h1, h2 {
    border-color: var(--sidebar) !important;
}

h3 {
    color: var(--text-color) !important;
}

/* Other Category Incomplete Fixes */

/* Heading Color Fixes */
h4, h5, h6 {
    color: var(--text-color) !important;
}

/* Link State Fixes */
a:visited {
    color: var(--link-color) !important;
}

a.new,
a.new:visited {
    color: var(--redlink-color) !important;
}

/* Message Box Border Fix */
.mw-message-box {
    border: 1px solid var(--body-border);
    border-color: var(--body-dark);
    background-color: var(--body-light);
    padding: 0.5em 1em;
    margin: 0.5em 0;
}

/* User Message Color Fix */
.usermessage {
    background-color: var(--messagebox-warn-background);
    border: 1px solid var(--messagebox-warn-border);
    color: var(--text-color);
    padding: 5px;
    margin: 5px 0;
}

/* File History & File Image Background Fixes */
.filehistory a img,
#file img {
    background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16'%3E%3Cpath d='M0 0h8v16h8V8H0z' opacity='.13'/%3E%3C/svg%3E") repeat;
    max-width: 100%;
    height: auto;
    border: 1px solid var(--body-border);
}

#file img:hover {
    background: none;
    cursor: pointer;
}

/* MMV Component Fixes */
.mw-mmv-image-metadata {
    background: var(--body-light);
    border: 1px solid var(--body-border);
    border-color: var(--body-mid);
    padding: 1em;
}

.mw-mmv-dialog {
    background: var(--body-main);
    background-color: var(--body-light);
    border: 1px solid var(--body-border);
}

.mw-mmv-dialog .mw-mmv-dialog-down-arrow {
    border-top-color: var(--body-border);
    background-color: var(--body-light);
}

/* Chart Component Fix */
.rsw-chartjs.rsw-chartjs-config {
    background: var(--body-light);
    border: 1px solid var(--body-border);
    padding: 1em;
    display: none;
}

/* Content-Medium Incomplete Fix */
.highcharts-scrollbar-track {
    fill: transparent !important;
    stroke: transparent !important;
}

/* ================================================ */
/* PHASE 11B: Strategic High-Value Missing Selectors */
/* ================================================ */

/* Echo Notification System - Complete UX */
.mw-echo-ui-crossWikiUnreadFilterWidget {
    background: var(--body-light);
    border: 1px solid var(--body-border);
    padding: 0.5em;
}

.mw-echo-ui-crossWikiUnreadFilterWidget-subtitle {
    color: var(--byline-color);
    font-size: 0.9em;
}

.mw-echo-ui-notificationItemWidget {
    background: var(--body-main);
    border-bottom: 1px solid var(--body-border);
    padding: 1em;
}

.mw-echo-ui-notificationItemWidget:not(:last-child) {
    margin-bottom: 1px;
}

.mw-echo-ui-notificationItemWidget:hover {
    background: var(--body-light);
}

.mw-echo-ui-notificationItemWidget-unread {
    background: var(--messagebox-info-background);
    border-left: 3px solid var(--ooui-progressive);
}

.mw-echo-ui-notificationItemWidget-unread:hover {
    background: var(--body-light);
}

.mw-echo-ui-notificationItemWidget-content-message-header {
    font-weight: bold;
    color: var(--text-color);
    margin-bottom: 0.5em;
}

.mw-echo-ui-notificationItemWidget-content-message-body {
    color: var(--text-color);
    line-height: 1.4;
}

/* Enhanced Gaming Features - OSRS-specific UX */
.mw-widget-calendarWidget-item:hover {
    background: var(--ooui-progressive);
    color: #fff;
    cursor: pointer;
}

.mw-widget-calendarWidget-item-selected {
    background: var(--ooui-accent);
    color: #fff;
    font-weight: bold;
}

.combat-styles-icons a {
    display: inline-block;
    margin: 2px;
    padding: 4px;
    border: 1px solid var(--body-border);
    border-radius: 3px;
    transition: background-color 0.2s;
}

.combat-styles-icons a:hover {
    background: var(--body-light);
    border-color: var(--ooui-progressive);
}

/* Tile System Enhancement */
.tile {
    background: var(--body-light);
    border: 1px solid var(--body-border);
    padding: 1em;
    margin: 0.5em 0;
    border-radius: 4px;
}

.tile.dark {
    background: var(--body-dark-shade);
    color: var(--tile-dark-header-color);
}

.tile.dark a {
    color: var(--tile-dark-header-color);
}

/* Interactive UI Polish & Content Layout Enhancement */

/* Enhanced SMW Button States */
.smw-ask-action-btn.smw-ask-action-btn-dblue:visited {
    background-color: var(--ooui-accent);
    color: #fff;
}

.smw-ask-query textarea,
.smw-ask-actions textarea {
    background: var(--ooui-input);
    border: 1px solid var(--ooui-input-border);
    color: var(--text-color);
    padding: 0.5em;
    font-family: inherit;
}

.smw-ask-query textarea:focus,
.smw-ask-actions textarea:focus {
    border-color: var(--ooui-progressive);
    outline: none;
}

/* Enhanced Link States for SMW */
a.smw-ask-action-btn.smw-ask-action-btn-lblue,
a.smw-ask-action-btn.smw-ask-action-btn-lblue:visited,
a.smw-ask-action-btn.smw-ask-action-btn-lblue:hover {
    background-color: var(--ooui-progressive);
    color: #fff !important;
    text-decoration: none;
    border: 1px solid var(--ooui-progressive);
    padding: 0.5em 1em;
    display: inline-block;
}

a.smw-ask-action-btn.smw-ask-action-btn-lblue:hover {
    background-color: var(--ooui-progressive--hover);
    border-color: var(--ooui-progressive--hover);
}

/* Enhanced Media Handling */
.extimage a {
    display: inline-block;
    border: 1px solid var(--body-border);
    padding: 2px;
}

.extimage a:hover {
    border-color: var(--ooui-progressive);
}

.extimage img {
    display: block;
    max-width: 100%;
    height: auto;
}

/* Enhanced Tables & Data */
.smwb-ifactbox .smwb-cell,
.smwb-factbox .smwb-cell {
    background: var(--wikitable-bg);
    border: 1px solid var(--wikitable-border);
    padding: 0.5em;
}

.arrow {
    color: var(--text-color);
    font-weight: bold;
}

/* Enhanced Navigation */
.mw-rcfilters-ui-menuSelectWidget-footer {
    background: var(--body-light);
    border-top: 1px solid var(--body-border);
    padding: 0.5em;
}

.gemw-body .gemw-links {
    background: var(--body-light);
    border: 1px solid var(--body-border);
    padding: 0.5em;
}

.gemw-body .gemw-links a {
    color: var(--link-color);
    margin-right: 1em;
}

.highcharts-navigator-outline {
    stroke: var(--body-border);
    fill: none;
}
